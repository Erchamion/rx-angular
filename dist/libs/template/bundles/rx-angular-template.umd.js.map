{"version":3,"file":"rx-angular-template.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","ng://@rx-angular/template/lib/core/rxjs/operators/toObservableValue.ts","ng://@rx-angular/template/lib/core/render-aware/nameToStrategy.ts","ng://@rx-angular/template/lib/core/render-aware/render-aware_creator.ts","ng://@rx-angular/template/lib/core/utils/get-global-this.ts","ng://@rx-angular/template/lib/core/utils/properties-weakmap.ts","ng://@rx-angular/template/lib/core/utils/zone-checks.ts","ng://@rx-angular/template/lib/core/utils/unpatched-promise.ts","ng://@rx-angular/template/lib/core/utils/view-engine-checks.ts","ng://@rx-angular/template/lib/core/utils/make-zone-less.ts","ng://@rx-angular/template/lib/core/render-aware/coalescing-manager.ts","ng://@rx-angular/template/lib/render-strategies/rxjs/operators/coalesceWith.ts","ng://@rx-angular/template/lib/render-strategies/rxjs/operators/renderChange.ts","ng://@rx-angular/template/lib/render-strategies/rxjs/scheduling/asapScheduler.ts","ng://@rx-angular/template/lib/render-strategies/rxjs/scheduling/getPostTaskScheduler.ts","ng://@rx-angular/template/lib/render-strategies/rxjs/scheduling/idleCallbackScheduler.ts","ng://@rx-angular/template/lib/render-strategies/rxjs/scheduling/animationFrameScheduler.ts","ng://@rx-angular/template/lib/render-strategies/rxjs/scheduling/interfaces.ts","ng://@rx-angular/template/lib/render-strategies/rxjs/scheduling/priority-scheduler-map.ts","ng://@rx-angular/template/lib/render-strategies/static/static-coalesce.ts","ng://@rx-angular/template/lib/render-strategies/static/static-schedule.ts","ng://@rx-angular/template/lib/render-strategies/static/static-schedule-and-coalesced.ts","ng://@rx-angular/template/lib/render-strategies/strategies/noop.strategy.ts","ng://@rx-angular/template/lib/render-strategies/strategies/native.strategy.ts","ng://@rx-angular/template/lib/render-strategies/strategies/local.strategy.ts","ng://@rx-angular/template/lib/render-strategies/strategies/global.strategy.ts","ng://@rx-angular/template/lib/render-strategies/strategies/strategies-map.ts","ng://@rx-angular/template/lib/push/push.pipe.ts","ng://@rx-angular/template/lib/push/push.module.ts","ng://@rx-angular/template/lib/let/let.directive.ts","ng://@rx-angular/template/lib/let/let.module.ts","ng://@rx-angular/template/lib/unpatch/events/unpatch-event-list.ts","ng://@rx-angular/template/lib/unpatch/events/unpatch-events.directive.ts","ng://@rx-angular/template/lib/unpatch/events/unpatch-events.module.ts","ng://@rx-angular/template/lib/template.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { from, of, Observable, ObservableInput } from 'rxjs';\r\n\r\nexport function toObservableValue<T>(\r\n  p: ObservableInput<T> | undefined | null\r\n): Observable<T | undefined | null> {\r\n  // @ts-ignore\r\n  return p == null ? of(p) : from(p);\r\n}\r\n","import { Observable } from 'rxjs';\r\nimport { distinctUntilChanged, map } from 'rxjs/operators';\r\nimport { RenderStrategy, StrategySelection } from './interfaces';\r\n\r\nexport function nameToStrategy<U>(strategies: StrategySelection<U>) {\r\n  return (o$: Observable<string>): Observable<RenderStrategy<U>> => {\r\n    return o$.pipe(\r\n      distinctUntilChanged(),\r\n      map(\r\n        (strategy: string): RenderStrategy<U> => {\r\n          const s = strategies[strategy];\r\n          if (!!s) {\r\n            return s;\r\n          }\r\n          throw new Error(`Strategy ${strategy} does not exist.`);\r\n        }\r\n      )\r\n    );\r\n  };\r\n}\r\n","import {\r\n  ConnectableObservable,\r\n  EMPTY,\r\n  NextObserver,\r\n  Observable,\r\n  of,\r\n  ReplaySubject,\r\n  Subject,\r\n  Subscribable,\r\n  Subscription\r\n} from 'rxjs';\r\nimport {\r\n  catchError,\r\n  distinctUntilChanged,\r\n  filter,\r\n  map,\r\n  publishReplay,\r\n  switchAll,\r\n  switchMap,\r\n  tap,\r\n  withLatestFrom\r\n} from 'rxjs/operators';\r\nimport { RenderStrategy, StrategySelection } from './interfaces';\r\nimport { nameToStrategy } from './nameToStrategy';\r\nimport { DEFAULT_STRATEGY_NAME } from '../../render-strategies/strategies/strategies-map';\r\n\r\nexport interface RenderAware<U> extends Subscribable<U> {\r\n  nextPotentialObservable: (value: any) => void;\r\n  nextStrategy: (config: string | Observable<string>) => void;\r\n  activeStrategy$: Observable<RenderStrategy<U>>;\r\n}\r\n\r\n/**\r\n * RenderAware\r\n *\r\n * @description\r\n * This function returns an object that holds all the shared logic for the push pipe and the let directive\r\n * responsible for change detection\r\n * If you extend this class you need to implement how the update of the rendered value happens.\r\n * Also custom behaviour is something you need to implement in the extending class\r\n */\r\nexport function createRenderAware<U>(cfg: {\r\n  strategies: StrategySelection<U>;\r\n  resetObserver: NextObserver<void>;\r\n  updateObserver: NextObserver<U>;\r\n}): RenderAware<U | undefined | null> {\r\n  const strategyName$ = new ReplaySubject<string | Observable<string>>(1);\r\n  const strategy$: Observable<RenderStrategy<U>> = strategyName$.pipe(\r\n    distinctUntilChanged(),\r\n    switchMap(stringOrObservable =>\r\n      typeof stringOrObservable === 'string'\r\n        ? of(stringOrObservable)\r\n        : stringOrObservable\r\n    ),\r\n    nameToStrategy(cfg.strategies)\r\n  );\r\n\r\n  const observablesFromTemplate$ = new ReplaySubject<Observable<U>>(1);\r\n  const valuesFromTemplate$ = observablesFromTemplate$.pipe(\r\n    distinctUntilChanged()\r\n  );\r\n  let firstTemplateObservableChange = true;\r\n\r\n  const renderingEffect$ = valuesFromTemplate$.pipe(\r\n    // handle null | undefined assignment and new Observable reset\r\n    map(observable$ => {\r\n      if (observable$ === null) {\r\n        return of(null);\r\n      }\r\n      if (!firstTemplateObservableChange) {\r\n        cfg.resetObserver.next();\r\n        if (observable$ === undefined) {\r\n          return of(undefined);\r\n        }\r\n      }\r\n      firstTemplateObservableChange = false;\r\n      return observable$;\r\n    }),\r\n    // forward only observable values\r\n    filter(o$ => o$ !== undefined),\r\n    switchMap(o$ => o$.pipe(distinctUntilChanged(), tap(cfg.updateObserver))),\r\n    withLatestFrom(strategy$),\r\n    tap(([v, strat]) => strat.scheduleCD()),\r\n    catchError(e => {\r\n      console.error(e);\r\n      return EMPTY;\r\n    })\r\n  );\r\n\r\n  return {\r\n    nextPotentialObservable(value: any): void {\r\n      observablesFromTemplate$.next(value);\r\n    },\r\n    nextStrategy(nextConfig: string | Observable<string>): void {\r\n      strategyName$.next(nextConfig);\r\n    },\r\n    activeStrategy$: strategy$,\r\n    subscribe(): Subscription {\r\n      return new Subscription()\r\n        .add(strategy$.subscribe())\r\n        .add(renderingEffect$.subscribe());\r\n    }\r\n  };\r\n}\r\n","/**\r\n * @description\r\n *\r\n * A fallback for the new `globalThis` reference.\r\n *\r\n *  It should be used to replace `window` due to different environments in:\r\n *  - SSR (Server Side Rendering)\r\n *  - Tests\r\n *  - Browser\r\n *\r\n *  @return {globalThis} - A reference to globalThis. `window` in the Browser.\r\n */\r\nexport function getGlobalThis(): any {\r\n  return ((globalThis as any) || (self as any) || (window as any)) as any;\r\n}\r\n","type KeyOf<O> = keyof O & string & symbol & number;\r\n\r\n/*\r\n * createPropertiesWeakMap\r\n *\r\n * @param getDefaults: (o: O) => P\r\n * Example:\r\n *\r\n * export interface Properties {\r\n *   isCoalescing: boolean;\r\n * }\r\n *\r\n * const obj: object = {\r\n *   foo: 'bar',\r\n *   isCoalescing: 'weakMap version'\r\n * };\r\n *\r\n * const getDefaults = (ctx: object): Properties => ({isCoalescing: false});\r\n * const propsMap = createPropertiesWeakMap<object, Properties>(getDefaults);\r\n *\r\n * console.log('obj before:', obj);\r\n * // {foo: \"bar\", isCoalescing: \"weakMap version\"}\r\n * console.log('props before:', propsMap.getProps(obj));\r\n * // {isCoalescing: \"weakMap version\"}\r\n *\r\n * propsMap.setProps(obj, {isCoalescing: true});\r\n * console.log('obj after:', obj);\r\n * // {foo: \"bar\", isCoalescing: \"weakMap version\"}\r\n * console.log('props after:', propsMap.getProps(obj));\r\n * // {isCoalescing: \"true\"}\r\n * */\r\nexport function createPropertiesWeakMap<O extends object, P extends object>(\r\n  getDefaults: (o: O) => P\r\n) {\r\n  type K = KeyOf<P>;\r\n  const propertyMap = new WeakMap<O, P>();\r\n\r\n  return {\r\n    getProps: getProperties,\r\n    setProps: setProperties\r\n  };\r\n\r\n  function getProperties(ctx: O): P {\r\n    const defaults = getDefaults(ctx);\r\n    const propertiesPresent: P | undefined = propertyMap.get(ctx);\r\n    let properties: P;\r\n\r\n    if (propertiesPresent !== undefined) {\r\n      properties = propertiesPresent;\r\n    } else {\r\n      properties = {} as P;\r\n\r\n      (Object.entries(defaults) as [K, P[K]][]).forEach(\r\n        ([prop, value]): void => {\r\n          properties[prop] = hasKey(ctx, prop) ? ctx[prop] : value;\r\n        }\r\n      );\r\n\r\n      propertyMap.set(ctx, properties);\r\n    }\r\n    return properties;\r\n  }\r\n\r\n  function setProperties(ctx: O, props: Partial<P>): P {\r\n    const properties: P = getProperties(ctx);\r\n    (Object.entries(props) as [K, P[K]][]).forEach(([prop, value]) => {\r\n      properties[prop] = value;\r\n    });\r\n    propertyMap.set(ctx, properties);\r\n    return properties;\r\n  }\r\n\r\n  function hasKey(ctx: O, property: K): ctx is K {\r\n    return ctx[property] != null;\r\n  }\r\n}\r\n","import { getGlobalThis } from './get-global-this';\r\n\r\n/**\r\n * envZonePatched\r\n *\r\n * @description\r\n *\r\n * This function checks the window object `zone.js` was instantiated.\r\n * If so, the `window` object maintains a property named `Zone`.\r\n *\r\n * Here how Angular checks it: https://github.com/angular/angular/blob/master/packages/core/src/zone/ng_zone.ts#L123\r\n *\r\n * @return {boolean} - true if `zone.js` patched global APIs.\r\n *\r\n */\r\nexport function envZonePatched(): boolean {\r\n  return getGlobalThis().Zone !== undefined;\r\n}\r\n\r\n/**\r\n * apiZonePatched\r\n *\r\n * @description\r\n *\r\n * This function checks if a specific Browser API is patched by `zone.js`.\r\n *\r\n * @param name {string} - The name of the API to check.\r\n * @return {boolean} - true if `zone.js` patched the API in question.\r\n *\r\n */\r\nexport function apiZonePatched(name: string): boolean {\r\n  // if symbol is present, zone patched the API\r\n  return getGlobalThis()['__zone_symbol__' + name] !== undefined;\r\n}\r\n\r\nconst zoneDetectionCache = new WeakMap<any, boolean>();\r\n\r\n/**\r\n * isNgZone\r\n *\r\n * @description\r\n *\r\n * This function takes an instance of a class which implements the NgZone interface and checks if\r\n * its `runOutsideAngular()` function calls `apply()` on the function passed as parameter. This\r\n * means the Angular application that instantiated this service assumes it runs in a ZoneLess\r\n * environment, and therefore it's change detection will not be triggered by zone related logic.\r\n *\r\n * However, keep in mind this does not mean `zone.js` is not present.\r\n * The environment could still run in ZoneFull mode even if Angular turned it off.\r\n * Consider the situation of a Angular element configured for ZoneLess\r\n * environments is used in an Angular application relining on the zone mechanism.\r\n *\r\n * @param instance {Class Instance} - The instance to check for constructor name of `NgZone`.\r\n * @return {boolean} - true if instance is of type `NgZone`.\r\n *\r\n */\r\nexport function isNgZone(instance: any): boolean {\r\n  const cachedValue = zoneDetectionCache.get(instance);\r\n\r\n  if (cachedValue !== undefined) {\r\n    return cachedValue;\r\n  }\r\n\r\n  let calledApply = false;\r\n\r\n  function fn() {}\r\n  fn.apply = () => (calledApply = true);\r\n\r\n  instance.runOutsideAngular(fn);\r\n  zoneDetectionCache.set(instance, calledApply);\r\n\r\n  return calledApply;\r\n}\r\n\r\n/**\r\n * isNoopNgZone\r\n *\r\n *@description\r\n *\r\n * This function takes any instance of a class and checks\r\n * if the constructor name is equal to `NoopNgZone`.\r\n *\r\n * For more detailed information read the description of [isNgZone](#isngzone).\r\n *\r\n * @param instance {Class Instance} - The instance to check for constructor name of `NoopNgZone`.\r\n * @return {boolean} - true if instance is of type `NoopNgZone`.\r\n *\r\n */\r\nexport function isNoopNgZone(instance: any): boolean {\r\n  return !isNgZone(instance);\r\n}\r\n","/** A shared promise instance to cause a delay of one microtask */\r\nimport { getGlobalThis } from './get-global-this';\r\nimport { apiZonePatched } from './zone-checks';\r\n\r\nlet resolvedPromise: Promise<void> | null = null;\r\n\r\nexport function getUnpatchedResolvedPromise(): Promise<void> {\r\n  resolvedPromise =\r\n    resolvedPromise ||\r\n    (apiZonePatched('Promise')\r\n      ? (getGlobalThis().__zone_symbol__Promise.resolve() as Promise<void>)\r\n      : Promise.resolve());\r\n  return resolvedPromise;\r\n}\r\n","import { getGlobalThis } from './get-global-this';\r\n\r\n/**\r\n * envRunsIvy\r\n *\r\n * @description\r\n * Determines the used view engine of an Angular project is Ivy or not.\r\n * The check is done based on following table:\r\n * | render       | ViewEngine | ViewEngine | Ivy         | Ivy         |\r\n * | ------------ | ---------- | ---------- | ----------- | ----------- |\r\n * | **mode**     | prod       | dev        | prod        | dev         |\r\n * | **ng**       | present    | present    | `undefined` | present     |\r\n * | **ng.probe** | present    | present    | `undefined` | `undefined` |\r\n *\r\n *  So for Ivy we need to make sure that ng is undefined or,\r\n *  in case of dev environment, ng.probe is undefined.\r\n *\r\n * @return {boolean} - true if the used view engine is Ivy.\r\n *\r\n */\r\nexport function isViewEngineIvy(): boolean {\r\n  const ng: any = getGlobalThis().ng;\r\n\r\n  // Is the global ng object is unavailable?\r\n  // ng === undefined in Ivy production mode\r\n  // View Engine has the ng object both in development mode and production mode.\r\n  return (\r\n    ng === undefined ||\r\n    // in case we are in dev mode in ivy\r\n    // `probe` property is available on ng object we use View Engine.\r\n    ng.probe === undefined\r\n  );\r\n}\r\n","import { getGlobalThis } from './get-global-this';\r\nimport { apiZonePatched } from './zone-checks';\r\n\r\n/**\r\n * getZoneUnPatchedApi\r\n *\r\n * @description\r\n *\r\n * This function returns the zone un-patched API for the a specific Browser API.\r\n * If no element is passed the window is used instead\r\n *\r\n * @param name {string} - The name of the API to check.\r\n * @param elem {any} - The elem to get un-patched API from.\r\n * @return {Function} - The zone un-patched API in question.\r\n *\r\n */\r\nexport function getZoneUnPatchedApi(name: string, elem?: any): Function {\r\n  elem = elem || getGlobalThis();\r\n  return apiZonePatched(name) ? elem['__zone_symbol__' + name] : elem[name];\r\n}\r\n\r\n/**\r\n *\r\n * @description\r\n *\r\n * This function takes an elem and event and re-applies the listeners from the passed event to the\r\n * passed element with the zone un-patched version of it.\r\n *\r\n * @param elem {HTMLElement} - The elem to re-apply the listeners to.\r\n * @param event {string} - The name of the event from which to re-apply the listeners.\r\n *\r\n * @returns void\r\n */\r\nexport function unpatchEventListener(elem: HTMLElement, event: string): void {\r\n  const eventListeners = (elem as any).eventListeners(event);\r\n  // Return if no event listeners are present\r\n  if (!eventListeners) {\r\n    return;\r\n  }\r\n\r\n  const addEventListener = getZoneUnPatchedApi('addEventListener', elem).bind(\r\n    elem\r\n  );\r\n  eventListeners.forEach(listener => {\r\n    // Remove and reapply listeners with patched API\r\n    elem.removeEventListener(event, listener);\r\n    // Reapply listeners with un-patched API\r\n    addEventListener(event, listener);\r\n  });\r\n}\r\n","import { createPropertiesWeakMap } from '../utils';\r\n\r\ninterface CoalescingContextProps {\r\n  numCoalescingSubscribers: number;\r\n}\r\n\r\nconst coalescingContextPropertiesMap = createPropertiesWeakMap<\r\n  object,\r\n  CoalescingContextProps\r\n>(ctx => ({\r\n  numCoalescingSubscribers: 0\r\n}));\r\n\r\nexport function createCoalesceManager(\r\n  scope: object = {}\r\n): {\r\n  remove: () => void;\r\n  add: () => void;\r\n  isCoalescing: () => boolean;\r\n} {\r\n  return {\r\n    remove: removeSubscriber,\r\n    add: addSubscription,\r\n    isCoalescing\r\n  };\r\n\r\n  // Increments the number of subscriptions in a scope e.g. a class instance\r\n  function removeSubscriber(): void {\r\n    const numCoalescingSubscribers =\r\n      coalescingContextPropertiesMap.getProps(scope).numCoalescingSubscribers -\r\n      1;\r\n    coalescingContextPropertiesMap.setProps(scope, {\r\n      numCoalescingSubscribers\r\n    });\r\n  }\r\n\r\n  // Decrements the number of subscriptions in a scope e.g. a class instance\r\n  function addSubscription(): void {\r\n    const numCoalescingSubscribers =\r\n      coalescingContextPropertiesMap.getProps(scope).numCoalescingSubscribers +\r\n      1;\r\n    coalescingContextPropertiesMap.setProps(scope, {\r\n      numCoalescingSubscribers\r\n    });\r\n  }\r\n\r\n  // Checks if anybody else is already coalescing atm\r\n  function isCoalescing(): boolean {\r\n    return (\r\n      coalescingContextPropertiesMap.getProps(scope).numCoalescingSubscribers >\r\n      0\r\n    );\r\n  }\r\n}\r\n","import {\r\n  MonoTypeOperatorFunction,\r\n  Observable,\r\n  Observer,\r\n  Subscribable,\r\n  SubscribableOrPromise,\r\n  Subscriber,\r\n  Subscription,\r\n  Unsubscribable\r\n} from 'rxjs';\r\nimport { createCoalesceManager } from '../../../core/render-aware/coalescing-manager';\r\n\r\n/**\r\n * @description\r\n * Limits the number of synchronous emitted a value from the source Observable to\r\n * one emitted value per\r\n *   [`AnimationFrame`](https://developer.mozilla.org/en-US/docs/Web/API/Window/requestAnimationFrame), then repeats\r\n *   this process for every tick of the browsers event loop.\r\n *\r\n * The coalesce operator is based on the [throttle](https://rxjs-dev.firebaseapp.com/api/operators/throttle) operator.\r\n * In addition to that is provides emitted values for the trailing end only, as well as maintaining a context to scope\r\n *   coalescing.\r\n *\r\n * @param {function(value: T): SubscribableOrPromise} durationSelector - A function\r\n * that receives a value from the source Observable, for computing the silencing\r\n * duration for each source value, returned as an Observable or a Promise.\r\n * It defaults to `requestAnimationFrame` as durationSelector.\r\n * @param {Object} config - A configuration object to define `leading` and `trailing` behavior and the context object.\r\n * Defaults to `{ leading: false, trailing: true }`. The default scoping is per subscriber.\r\n * @return {Observable<T>} An Observable that performs the coalesce operation to\r\n * limit the rate of emissions from the source.\r\n *\r\n * @usageNotes\r\n * Emit clicks at a rate of at most one click per second\r\n * ```ts\r\n * import { fromEvent, animationFrames } from 'rxjs';\r\n * import { coalesce } from 'ngRx/component';\r\n *\r\n * const clicks = fromEvent(document, 'click');\r\n * const result = clicks.pipe(coalesce(ev => animationFrames));\r\n * result.subscribe(x => console.log(x));\r\n * ```\r\n */\r\nexport function coalesceWith<T>(\r\n  durationSelector: Subscribable<any>,\r\n  scope?: object\r\n): MonoTypeOperatorFunction<T> {\r\n  const _scope = scope || {};\r\n  return source => {\r\n    const o$ = new Observable<T>(observer => {\r\n      const rootSubscription = new Subscription();\r\n      rootSubscription.add(\r\n        source.subscribe(createInnerObserver(observer, rootSubscription))\r\n      );\r\n      return rootSubscription;\r\n    });\r\n\r\n    return o$;\r\n\r\n    function createInnerObserver(\r\n      outerObserver: Subscriber<T>,\r\n      rootSubscription: Subscription\r\n    ): Observer<T> {\r\n      let actionSubscription: Unsubscribable;\r\n      let latestValue: T | undefined;\r\n      const coa = createCoalesceManager(_scope);\r\n      const tryEmitLatestValue = () => {\r\n        coa.remove();\r\n        if (!coa.isCoalescing()) {\r\n          outerObserver.next(latestValue);\r\n        }\r\n      };\r\n      return {\r\n        complete: () => {\r\n          if (actionSubscription) {\r\n            tryEmitLatestValue();\r\n          }\r\n          outerObserver.complete();\r\n        },\r\n        error: error => outerObserver.error(error),\r\n        next: value => {\r\n          latestValue = value;\r\n          if (!actionSubscription) {\r\n            coa.add();\r\n            actionSubscription = durationSelector.subscribe({\r\n              next: () => {\r\n                tryEmitLatestValue();\r\n                actionSubscription = undefined;\r\n              },\r\n              complete: () => {\r\n                if (actionSubscription) {\r\n                  tryEmitLatestValue();\r\n                  actionSubscription = undefined;\r\n                }\r\n              }\r\n            });\r\n            rootSubscription.add(actionSubscription);\r\n          }\r\n        }\r\n      };\r\n    }\r\n  };\r\n}\r\n","import { MonoTypeOperatorFunction, Observable } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\nimport { RenderStrategy } from '../../../core';\r\n\r\nexport function renderChange<T>(\r\n  strategy: RenderStrategy<T>\r\n): MonoTypeOperatorFunction<T> {\r\n  return (s: Observable<T>): Observable<T> => {\r\n    return s.pipe(\r\n      strategy.behavior,\r\n      tap(v => strategy.renderMethod())\r\n    );\r\n  };\r\n}\r\n","import { from, SchedulerLike, Subscription } from 'rxjs';\r\nimport { getUnpatchedResolvedPromise } from '../../../core';\r\n\r\nexport const unpatchedAsapScheduler: SchedulerLike = {\r\n  now() {\r\n    return 0;\r\n  },\r\n  schedule(\r\n    work: (...args: any[]) => void,\r\n    options?: number,\r\n    state?: any\r\n  ): Subscription {\r\n    return from(getUnpatchedResolvedPromise()).subscribe(() => work(state));\r\n  }\r\n};\r\n","import {\r\n  asyncScheduler,\r\n  SchedulerAction,\r\n  SchedulerLike,\r\n  Subscription\r\n} from 'rxjs';\r\nimport { isObject } from 'util';\r\n\r\n/**\r\n *\r\n * Implementation based on rxjs-etc => IdleScheduler\r\n *\r\n */\r\n\r\nexport enum PostTaskSchedulerPriority {\r\n  background = 'background',\r\n  userBlocking = 'user-blocking',\r\n  userVisible = 'user-visible'\r\n}\r\n\r\ninterface PostTaskScheduler {\r\n  postTask<T>(cb: () => void, options: SchedulerPostTaskOptions): Promise<T>;\r\n}\r\n\r\ninterface SchedulerPostTaskOptions {\r\n  priority: PostTaskSchedulerPriority | string | null;\r\n  delay: number;\r\n  signal?: any;\r\n}\r\n\r\nexport const postTaskScheduler: PostTaskScheduler =\r\n  typeof window !== 'undefined'\r\n    ? (window as any).scheduler || {\r\n        postTask<T>(options: SchedulerPostTaskOptions): Promise<T> {\r\n          const start = Date.now();\r\n          return new Promise(resolve => {\r\n            setTimeout(function() {\r\n              console.error(\r\n                'postTask not implemented. Use setTimeout as fallback'\r\n              );\r\n              resolve();\r\n            }, 1);\r\n          });\r\n        }\r\n      }\r\n    : () => {};\r\n\r\nclass PostTaskAction<T> extends Subscription {\r\n  _scheduler;\r\n  constructor(private work: (this: SchedulerAction<T>, state?: T) => void) {\r\n    super();\r\n  }\r\n\r\n  schedule(state?: T, delay?: number) {\r\n    if (this.closed) {\r\n      return this;\r\n    }\r\n    return this._scheduler.schedule(this.work, delay, state);\r\n  }\r\n}\r\n\r\nexport function getPostTaskScheduler(\r\n  priority: PostTaskSchedulerPriority\r\n): SchedulerLike {\r\n  return ({\r\n    now() {\r\n      return asyncScheduler.now();\r\n    },\r\n    schedule<T>(\r\n      work: (this: SchedulerAction<T>, state?: T) => void,\r\n      options: SchedulerPostTaskOptions = {} as SchedulerPostTaskOptions,\r\n      state?: T\r\n    ): Subscription {\r\n      if (isObject(options) && (options as SchedulerPostTaskOptions).delay) {\r\n        return asyncScheduler.schedule(\r\n          work,\r\n          (options as SchedulerPostTaskOptions).delay,\r\n          state\r\n        );\r\n      }\r\n\r\n      options = { ...options, priority };\r\n\r\n      const action = new PostTaskAction(work);\r\n      // weired hack\r\n      action._scheduler = this;\r\n\r\n      const promise = postTaskScheduler\r\n        .postTask(() => {}, options)\r\n        .then(() => {\r\n          try {\r\n            work.call(action, state);\r\n          } catch (error) {\r\n            action.unsubscribe();\r\n            throw error;\r\n          }\r\n        });\r\n      action.add(() => {\r\n        throw new Error('not implemented');\r\n      });\r\n      return action;\r\n    }\r\n  } as unknown) as SchedulerLike;\r\n}\r\n","import {\r\n  asyncScheduler,\r\n  SchedulerAction,\r\n  SchedulerLike,\r\n  Subscription\r\n} from 'rxjs';\r\n\r\n/**\r\n *\r\n * Implementation based on rxjs-etc => IdleScheduler\r\n *\r\n */\r\ntype IdleId = ReturnType<typeof setTimeout>;\r\n\r\ntype RequestIdleCallbackHandle = any;\r\n\r\ninterface RequestIdleCallbackOptions {\r\n  timeout: number;\r\n}\r\n\r\ninterface RequestIdleCallbackDeadline {\r\n  readonly didTimeout: boolean;\r\n  timeRemaining: () => number;\r\n}\r\n\r\ntype RequestIdleCallback = (\r\n  callback: (deadline: RequestIdleCallbackDeadline) => void,\r\n  opts?: RequestIdleCallbackOptions\r\n) => RequestIdleCallbackHandle;\r\n\r\ntype CancelIdleCallback = (idleId: IdleId) => void;\r\n\r\nexport const cancelIdleCallback: CancelIdleCallback =\r\n  typeof window !== 'undefined'\r\n    ? (window as any).cancelIdleCallback ||\r\n      function(idleId: IdleId): void {\r\n        console.warn('Fake cancelIdleCallback used');\r\n        clearTimeout(idleId);\r\n      }\r\n    : () => {};\r\n\r\nexport const requestIdleCallback: RequestIdleCallback =\r\n  typeof window !== 'undefined'\r\n    ? (window as any).requestIdleCallback ||\r\n      function(cb: Function) {\r\n        console.warn('Fake requestIdleCallback used');\r\n        const start = Date.now();\r\n        return setTimeout(function() {\r\n          cb({\r\n            didTimeout: false,\r\n            timeRemaining: function() {\r\n              return Math.max(0, 50 - (Date.now() - start));\r\n            }\r\n          });\r\n        }, 1);\r\n      }\r\n    : () => {};\r\n\r\nclass IdleAction<T> extends Subscription {\r\n  constructor(private work: (this: SchedulerAction<T>, state?: T) => void) {\r\n    super();\r\n  }\r\n\r\n  schedule(state?: T, delay?: number) {\r\n    if (this.closed) {\r\n      return this;\r\n    }\r\n    return idleScheduler.schedule(this.work, delay, state);\r\n  }\r\n}\r\n\r\nexport const idleScheduler: SchedulerLike = {\r\n  now() {\r\n    return asyncScheduler.now();\r\n  },\r\n  schedule<T>(\r\n    work: (this: SchedulerAction<T>, state?: T) => void,\r\n    delay?: number,\r\n    state?: T\r\n  ): Subscription {\r\n    if (delay) {\r\n      return asyncScheduler.schedule(work, delay, state);\r\n    }\r\n\r\n    const action = new IdleAction(work);\r\n    const id = requestIdleCallback(() => {\r\n      try {\r\n        work.call(action, state);\r\n      } catch (error) {\r\n        action.unsubscribe();\r\n        throw error;\r\n      }\r\n    });\r\n    action.add(() => cancelIdleCallback(id));\r\n    return action;\r\n  }\r\n};\r\n","import { Observable, SchedulerLike, Subscription } from 'rxjs';\r\nimport { getZoneUnPatchedApi } from '../../../core';\r\n\r\nconst animationFrameTick = new Observable(subscriber => {\r\n  let i = 0;\r\n  const id = getZoneUnPatchedApi('requestAnimationFrame')(() => {\r\n    subscriber.next(++i);\r\n  });\r\n\r\n  return () => {\r\n    getZoneUnPatchedApi('cancelAnimationFrame')(id);\r\n  };\r\n});\r\n\r\nexport const unpatchedAnimationFrameScheduler: SchedulerLike = {\r\n  now() {\r\n    return 0;\r\n  },\r\n  schedule(\r\n    work: (...args: any[]) => void,\r\n    options?: number,\r\n    state?: any\r\n  ): Subscription {\r\n    return animationFrameTick.subscribe(() => work(state));\r\n  }\r\n};\r\n","export enum SchedulingPriority {\r\n  animationFrame = 'animationFrame',\r\n  Promise = 'Promise',\r\n  idleCallback = 'idleCallback',\r\n  userBlocking = 'userBlocking',\r\n  userVisible = 'userVisible',\r\n  background = 'background',\r\n  setInterval = 'setInterval'\r\n}\r\n","import {\r\n  animationFrameScheduler,\r\n  asapScheduler,\r\n  asyncScheduler,\r\n  SchedulerLike\r\n} from 'rxjs';\r\nimport { SchedulingPriority } from './interfaces';\r\nimport {\r\n  getPostTaskScheduler,\r\n  PostTaskSchedulerPriority\r\n} from './getPostTaskScheduler';\r\nimport { idleScheduler } from './idleCallbackScheduler';\r\n\r\nexport const prioritySchedulerMap: { [name: string]: SchedulerLike } = {\r\n  animationFrame: animationFrameScheduler,\r\n  Promise: asapScheduler,\r\n  setInterval: asyncScheduler,\r\n  idleCallback: idleScheduler,\r\n  userBlocking: getPostTaskScheduler(PostTaskSchedulerPriority.userBlocking),\r\n  userVisible: getPostTaskScheduler(PostTaskSchedulerPriority.userVisible),\r\n  background: getPostTaskScheduler(PostTaskSchedulerPriority.background)\r\n};\r\n\r\nexport function getScheduler(priority: SchedulingPriority): SchedulerLike {\r\n  if (!prioritySchedulerMap.hasOwnProperty(priority)) {\r\n    throw new Error(`priority ${priority} is not present in prioritiesMap`);\r\n  }\r\n  return prioritySchedulerMap[priority];\r\n}\r\n","import { Subscribable } from 'rxjs';\r\nimport { createCoalesceManager } from '../../core/render-aware/coalescing-manager';\r\n\r\nexport function staticCoalesce<T>(\r\n  work: () => T,\r\n  durationSelector: Subscribable<any>,\r\n  scope: object = {}\r\n): void {\r\n  const coalescingManager = createCoalesceManager(scope);\r\n  if (!coalescingManager.isCoalescing()) {\r\n    coalescingManager.add();\r\n    durationSelector.subscribe(() => {\r\n      tryExecuteWork();\r\n    });\r\n  }\r\n\r\n  // =====\r\n\r\n  function tryExecuteWork() {\r\n    coalescingManager.remove();\r\n    if (!coalescingManager.isCoalescing()) {\r\n      return work();\r\n    }\r\n  }\r\n}\r\n","import { Subscription } from 'rxjs';\r\nimport { getScheduler } from '../rxjs/scheduling/priority-scheduler-map';\r\nimport { SchedulingPriority } from '../rxjs/scheduling/interfaces';\r\n\r\nexport function schedule(\r\n  work: () => void,\r\n  priority?: SchedulingPriority\r\n): Subscription {\r\n  return getScheduler(priority).schedule(() => work());\r\n}\r\n","import { from } from 'rxjs';\r\nimport { staticCoalesce } from './static-coalesce';\r\nimport { schedule } from './static-schedule';\r\nimport { SchedulingPriority } from '../rxjs/scheduling/interfaces';\r\nimport { getUnpatchedResolvedPromise } from '../../core/utils/unpatched-promise';\r\n\r\nexport function coalesceAndSchedule(\r\n  work: () => void,\r\n  priority: SchedulingPriority,\r\n  scope: object = {}\r\n): void {\r\n  const durationSelector = from(getUnpatchedResolvedPromise());\r\n  const scheduledWork = () => schedule(work, priority);\r\n  staticCoalesce(scheduledWork, durationSelector, scope);\r\n}\r\n","import {\r\n  RenderStrategy,\r\n  RenderStrategyFactoryConfig\r\n} from '../../core/render-aware/interfaces';\r\n\r\n/**\r\n * Noop Strategy\r\n *\r\n * This strategy is does nothing. It serves for debugging only\r\n *\r\n * | Name        | ZoneLess VE/I | Render Method VE/I  | Coalescing VE/I  |\r\n * |-------------| --------------| ------------ ------ | ---------------- |\r\n * | `noop`      | ❌/❌         | no rendering        | ❌               |\r\n *\r\n * @param config { RenderStrategyFactoryConfig } - The values this strategy needs to get calculated.\r\n * @return {RenderStrategy<T>} - The calculated strategy\r\n *\r\n */\r\nexport function createNoopStrategy<T>(): RenderStrategy<T> {\r\n  return {\r\n    name: 'noop',\r\n    renderMethod: () => {},\r\n    behavior: o => o,\r\n    scheduleCD: () => {}\r\n  };\r\n}\r\n","import { RenderStrategy, RenderStrategyFactoryConfig } from '../../core';\r\n\r\n/**\r\n * Native Strategy\r\n * @description\r\n *\r\n * This strategy mirrors Angular's built-in `async` pipe.\r\n * This means for every emitted value `ChangeDetectorRef#markForCheck` is called.\r\n *\r\n * | Name        | ZoneLess VE/I | Render Method VE/I  | Coalescing VE/I  |\r\n * |-------------| --------------| ------------ ------ | ---------------- |\r\n * | `native`    | ❌/❌         | mFC / mFC           | ❌               |\r\n *\r\n * @param config { RenderStrategyFactoryConfig } - The values this strategy needs to get calculated.\r\n * @return {RenderStrategy<T>} - The calculated strategy\r\n *\r\n */\r\nexport function createNativeStrategy<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): RenderStrategy<T> {\r\n  return {\r\n    name: 'native',\r\n    renderMethod: config.cdRef.markForCheck,\r\n    behavior: o => o,\r\n    scheduleCD: () => {\r\n      config.cdRef.markForCheck();\r\n    }\r\n  };\r\n}\r\n","import { coalesceAndSchedule, staticCoalesce } from '../static';\r\nimport { SchedulingPriority } from '../rxjs/scheduling/interfaces';\r\nimport { getUnpatchedResolvedPromise } from '../../core/utils/unpatched-promise';\r\nimport { from, Observable } from 'rxjs';\r\nimport { getScheduler } from '../rxjs/scheduling/priority-scheduler-map';\r\nimport { observeOn } from 'rxjs/operators';\r\nimport {\r\n  RenderStrategy,\r\n  RenderStrategyFactoryConfig\r\n} from '../../core/render-aware/interfaces';\r\nimport { coalesceWith } from '../rxjs/operators/coalesceWith';\r\nimport {\r\n  postTaskScheduler,\r\n  PostTaskSchedulerPriority\r\n} from '../rxjs/scheduling/getPostTaskScheduler';\r\n\r\n/**\r\n * Strategies\r\n *\r\n * - VE/I - Options for ViewEngine / Ivy\r\n * - mFC - `cdRef.markForCheck`\r\n * - dC - `cdRef.detectChanges`\r\n * - ɵMD - `ɵmarkDirty`\r\n * - ɵDC - `ɵdetectChanges`\r\n * - LV  - `LView`\r\n * - C - `Component`\r\n *\r\n * | Name        | ZoneLess VE/I | Render Method VE/I  | Coalescing VE/I  |\r\n * |-------------| --------------| ------------------- | ---------------- |\r\n * | `local`    | ✔/✔ ️        | dC / ɵDC            | ✔ ️ + C/ LV     |\r\n * | `detach`   | ❌/✔ ️       | mFC  / ɵMD          | ❌               |\r\n * | `postTask` | ❌/✔ ️       | mFC  / ɵMD          | ❌               |\r\n * | `idleCallback` | ❌/✔ ️   | mFC  / ɵMD          | ❌               |\r\n *\r\n */\r\n\r\nexport function getLocalStrategies<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): { [strategy: string]: RenderStrategy<T> } {\r\n  return {\r\n    local: createLocalStrategy<T>(config),\r\n    localCoalesce: createLocalCoalesceStrategy<T>(config),\r\n    localCoalesceAndSchedule: createLocalCoalesceAndScheduleStrategy<T>(config),\r\n    localNative: createLocalNativeStrategy<T>(config),\r\n    detach: createDetachStrategy(config),\r\n    userVisible: createUserVisibleStrategy(config),\r\n    userBlocking: createUserBlockingStrategy(config),\r\n    background: createBackgroundStrategy(config),\r\n    idleCallback: createIdleCallbackStrategy(config)\r\n  };\r\n}\r\n\r\nexport function createLocalNativeStrategy<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): RenderStrategy<T> {\r\n  const renderMethod = () => {\r\n    config.cdRef.detectChanges();\r\n  };\r\n  const behavior = o => o.pipe();\r\n  const scheduleCD = () => renderMethod();\r\n\r\n  return {\r\n    name: 'localNative',\r\n    renderMethod,\r\n    behavior,\r\n    scheduleCD\r\n  };\r\n}\r\n\r\n/**\r\n *  Local Strategy\r\n *\r\n * This strategy is rendering the actual component and\r\n * all it's children that are on a path\r\n * that is marked as dirty or has components with `ChangeDetectionStrategy.Default`.\r\n *\r\n * As detectChanges has no coalescing of render calls\r\n * like `ChangeDetectorRef#markForCheck` or `ɵmarkDirty` has, so we have to apply our own coalescing, 'scoped' on\r\n * component level.\r\n *\r\n * Coalescing, in this very manner,\r\n * means **collecting all events** in the same\r\n * [EventLoop](https://developer.mozilla.org/de/docs/Web/JavaScript/EventLoop) tick, that would cause a re-render and\r\n * execute **re-rendering only once**.\r\n *\r\n * 'Scoped' coalescing, in addition, means **grouping the collected events by** a specific context.\r\n * E. g. the **component** from which the re-rendering was initiated.\r\n *\r\n * | Name        | ZoneLess VE/I | Render Method VE/I  | Coalescing VE/I  |\r\n * |-------------| --------------| ------------ ------ | ---------------- |\r\n * | `ɵlocal`    | ✔️/✔️    | dC / dC             | ✔️ + C         |\r\n *\r\n * @param config { RenderStrategyFactoryConfig } - The values this strategy needs to get calculated.\r\n * @return {RenderStrategy<T>} - The calculated strategy\r\n *\r\n */\r\nexport function createLocalStrategy<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): RenderStrategy<T> {\r\n  const durationSelector = from(getUnpatchedResolvedPromise());\r\n  const scope = (config.cdRef as any).context;\r\n  const priority = SchedulingPriority.animationFrame;\r\n  const scheduler = getScheduler(priority);\r\n\r\n  const renderMethod = () => {\r\n    config.cdRef.detectChanges();\r\n  };\r\n  const behavior = o =>\r\n    o.pipe(coalesceWith(durationSelector, scope), observeOn(scheduler));\r\n  const scheduleCD = () => coalesceAndSchedule(renderMethod, priority, scope);\r\n\r\n  return {\r\n    name: 'local',\r\n    renderMethod,\r\n    behavior,\r\n    scheduleCD\r\n  };\r\n}\r\n\r\nexport function createLocalCoalesceStrategy<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): RenderStrategy<T> {\r\n  const durationSelector = from(getUnpatchedResolvedPromise());\r\n  const scope = (config.cdRef as any).context;\r\n  const priority = SchedulingPriority.animationFrame;\r\n  const scheduler = getScheduler(priority);\r\n\r\n  const renderMethod = () => {\r\n    config.cdRef.detectChanges();\r\n  };\r\n  const behavior = o =>\r\n    o.pipe(coalesceWith(durationSelector, scope), observeOn(scheduler));\r\n  const scheduleCD = () => coalesceAndSchedule(renderMethod, priority, scope);\r\n\r\n  return {\r\n    name: 'localCoalesce',\r\n    renderMethod,\r\n    behavior,\r\n    scheduleCD\r\n  };\r\n}\r\n\r\nexport function createLocalCoalesceAndScheduleStrategy<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): RenderStrategy<T> {\r\n  const durationSelector = from(getUnpatchedResolvedPromise());\r\n  const scope = (config.cdRef as any).context;\r\n  const priority = SchedulingPriority.animationFrame;\r\n  const scheduler = getScheduler(priority);\r\n\r\n  const renderMethod = () => {\r\n    config.cdRef.detectChanges();\r\n  };\r\n  const behavior = o =>\r\n    o.pipe(coalesceWith(durationSelector, scope), observeOn(scheduler));\r\n  const scheduleCD = () => coalesceAndSchedule(renderMethod, priority, scope);\r\n\r\n  return {\r\n    name: 'localCoalesceAndSchedule',\r\n    renderMethod,\r\n    behavior,\r\n    scheduleCD\r\n  };\r\n}\r\n\r\n/**\r\n *  Detach Strategy\r\n *\r\n * This strategy is rendering the actual component and\r\n * all it's children that are on a path\r\n * that is marked as dirty or has components with `ChangeDetectionStrategy.Default`.\r\n *\r\n * As detectChanges has no coalescing of render calls\r\n * like `ChangeDetectorRef#markForCheck` or `ɵmarkDirty` has, so we have to apply our own coalescing, 'scoped' on\r\n * component level.\r\n *\r\n * Coalescing, in this very manner,\r\n * means **collecting all events** in the same\r\n * [EventLoop](https://developer.mozilla.org/de/docs/Web/JavaScript/EventLoop) tick, that would cause a re-render and\r\n * execute **re-rendering only once**.\r\n *\r\n * 'Scoped' coalescing, in addition, means **grouping the collected events by** a specific context.\r\n * E. g. the **component** from which the re-rendering was initiated.\r\n *\r\n * | Name        | ZoneLess VE/I | Render Method VE/I  | Coalescing VE/I  |\r\n * |-------------| --------------| ------------ ------ | ---------------- |\r\n * | `ɵdetach`     | ✔️/✔️          | dC / ɵDC            | ✔️ + C/ LV       |\r\n *\r\n * @param config { RenderStrategyFactoryConfig } - The values this strategy needs to get calculated.\r\n * @return {RenderStrategy<T>} - The calculated strategy\r\n *\r\n */\r\nexport function createDetachStrategy<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): RenderStrategy<T> {\r\n  const durationSelector = from(getUnpatchedResolvedPromise());\r\n  const scope = (config.cdRef as any).context;\r\n  const priority = SchedulingPriority.animationFrame;\r\n  const scheduler = getScheduler(priority);\r\n\r\n  const renderMethod = () => {\r\n    config.cdRef.reattach();\r\n    config.cdRef.detectChanges();\r\n    config.cdRef.detach();\r\n  };\r\n  const behavior = o =>\r\n    o.pipe(coalesceWith(durationSelector, scope), observeOn(scheduler));\r\n  const scheduleCD = () => coalesceAndSchedule(renderMethod, priority, scope);\r\n\r\n  return {\r\n    name: 'detach',\r\n    renderMethod,\r\n    behavior,\r\n    scheduleCD\r\n  };\r\n}\r\n\r\n/**\r\n *  PostTask - Priority UserVisible Strategy\r\n *\r\n */\r\nexport function createUserVisibleStrategy<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): RenderStrategy<T> {\r\n  const durationSelector = new Observable(subscriber => {\r\n    from(\r\n      postTaskScheduler.postTask(() => void 0, {\r\n        priority: PostTaskSchedulerPriority.userVisible,\r\n        delay: 0\r\n      })\r\n    ).subscribe(subscriber);\r\n  });\r\n  const scope = (config.cdRef as any).context;\r\n  const priority = SchedulingPriority.background;\r\n  const scheduler = getScheduler(priority);\r\n\r\n  const renderMethod = () => {\r\n    config.cdRef.detectChanges();\r\n  };\r\n  const behavior = o =>\r\n    o.pipe(coalesceWith(durationSelector, scope), observeOn(scheduler));\r\n  const scheduleCD = () => coalesceAndSchedule(renderMethod, priority, scope);\r\n\r\n  return {\r\n    name: 'userVisible',\r\n    renderMethod,\r\n    behavior,\r\n    scheduleCD\r\n  };\r\n}\r\n\r\n/**\r\n *  PostTask - Priority UserBlocking Strategy\r\n *\r\n */\r\nexport function createUserBlockingStrategy<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): RenderStrategy<T> {\r\n  const durationSelector = new Observable(subscriber => {\r\n    from(\r\n      postTaskScheduler.postTask(() => void 0, {\r\n        priority: PostTaskSchedulerPriority.userVisible,\r\n        delay: 0\r\n      })\r\n    ).subscribe(subscriber);\r\n  });\r\n  const scope = (config.cdRef as any).context;\r\n  const priority = SchedulingPriority.background;\r\n  const scheduler = getScheduler(priority);\r\n\r\n  const renderMethod = () => {\r\n    config.cdRef.detectChanges();\r\n  };\r\n  const behavior = o =>\r\n    o.pipe(coalesceWith(durationSelector, scope), observeOn(scheduler));\r\n  const scheduleCD = () => {\r\n    staticCoalesce(renderMethod, durationSelector, scope);\r\n    // coalesceAndSchedule(renderMethod, priority, scope);\r\n  };\r\n\r\n  return {\r\n    name: 'userBlocking',\r\n    renderMethod,\r\n    behavior,\r\n    scheduleCD\r\n  };\r\n}\r\n\r\n/**\r\n *  PostTask - Priority Background Strategy\r\n *\r\n */\r\nexport function createBackgroundStrategy<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): RenderStrategy<T> {\r\n  const durationSelector = new Observable(subscriber => {\r\n    from(\r\n      postTaskScheduler.postTask(() => void 0, {\r\n        priority: PostTaskSchedulerPriority.userVisible,\r\n        delay: 0\r\n      })\r\n    ).subscribe(subscriber);\r\n  });\r\n  const scope = (config.cdRef as any).context;\r\n  const priority = SchedulingPriority.background;\r\n  const scheduler = getScheduler(priority);\r\n\r\n  const renderMethod = () => {\r\n    config.cdRef.detectChanges();\r\n  };\r\n  const behavior = o =>\r\n    o.pipe(coalesceWith(durationSelector, scope), observeOn(scheduler));\r\n  const scheduleCD = () => {\r\n    staticCoalesce(renderMethod, durationSelector, scope);\r\n    // coalesceAndSchedule(renderMethod, priority, scope);\r\n  };\r\n  return {\r\n    name: 'background',\r\n    renderMethod,\r\n    behavior,\r\n    scheduleCD\r\n  };\r\n}\r\n\r\n/**\r\n *  IdleCallback Strategy\r\n *\r\n * This strategy is rendering the actual component and\r\n * all it's children that are on a path\r\n * that is marked as dirty or has components with `ChangeDetectionStrategy.Default`.\r\n *\r\n * As detectChanges is used the coalescing described in `ɵlocal` is implemented here.\r\n *\r\n * 'Scoped' coalescing, in addition, means **grouping the collected events by** a specific context.\r\n * E. g. the **component** from which the re-rendering was initiated.\r\n *\r\n * | Name        | ZoneLess VE/I | Render Method VE/I  | Coalescing VE/I  |\r\n * |-------------| --------------| ------------ ------ | ---------------- |\r\n * | `ɵdetach`     | ✔️/✔️          | dC / ɵDC            | ✔️ + C/ LV       |\r\n *\r\n * @param config { RenderStrategyFactoryConfig } - The values this strategy needs to get calculated.\r\n * @return {RenderStrategy<T>} - The calculated strategy\r\n *\r\n */\r\nexport function createIdleCallbackStrategy<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): RenderStrategy<T> {\r\n  const durationSelector = from(getUnpatchedResolvedPromise());\r\n  const scope = (config.cdRef as any).context;\r\n  const priority = SchedulingPriority.idleCallback;\r\n  const scheduler = getScheduler(priority);\r\n  const renderMethod = () => {\r\n    config.cdRef.detectChanges();\r\n  };\r\n  const behavior = o =>\r\n    o.pipe(coalesceWith(durationSelector, scope), observeOn(scheduler));\r\n  const scheduleCD = () => coalesceAndSchedule(renderMethod, priority, scope);\r\n\r\n  return {\r\n    name: 'idleCallback',\r\n    renderMethod,\r\n    behavior,\r\n    scheduleCD\r\n  };\r\n}\r\n","import { ɵmarkDirty as markDirty } from '@angular/core';\r\nimport {\r\n  RenderStrategy,\r\n  RenderStrategyFactoryConfig\r\n} from '../../core/render-aware/interfaces';\r\n\r\nexport function getGlobalStrategies<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): { [strategy: string]: RenderStrategy<T> } {\r\n  return {\r\n    global: createGlobalStrategy<T>(config)\r\n  };\r\n}\r\n\r\n/**\r\n * Strategies\r\n *\r\n * - VE/I - Options for ViewEngine / Ivy\r\n * - mFC - `cdRef.markForCheck`\r\n * - dC - `cdRef.detectChanges`\r\n * - ɵMD - `ɵmarkDirty`\r\n * - ɵDC - `ɵdetectChanges`\r\n * - LV  - `LView`\r\n * - C - `Component`\r\n *\r\n * | Name        | ZoneLess VE/I | Render Method VE/I  | Coalescing VE/I  |\r\n * |-------------| --------------| ------------------- | ---------------- |\r\n * | `global`   | ❌/✔ ️        | mFC  / ɵMD          | ❌               |\r\n *\r\n */\r\n\r\n/**\r\n *\r\n * Global Strategy\r\n *\r\n * This strategy is rendering the application root and\r\n * all it's children that are on a path\r\n * that is marked as dirty or has components with `ChangeDetectionStrategy.Default`.\r\n *\r\n * | Name        | ZoneLess VE/I | Render Method VE/I  | Coalescing       |\r\n * |-------------| --------------| ------------ ------ | ---------------- |\r\n * | `global`   | ❌/✔️       | mFC / ɵMD           | ❌                |\r\n *\r\n * @param config { RenderStrategyFactoryConfig } - The values this strategy needs to get calculated.\r\n * @return {RenderStrategy<T>} - The calculated strategy\r\n *\r\n */\r\nexport function createGlobalStrategy<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): RenderStrategy<T> {\r\n  const renderMethod = () => markDirty((config.cdRef as any).context);\r\n\r\n  return {\r\n    name: 'global',\r\n    renderMethod,\r\n    behavior: o => o,\r\n    scheduleCD: () => renderMethod()\r\n  };\r\n}\r\n","import {\r\n  RenderStrategy,\r\n  RenderStrategyFactoryConfig\r\n} from '../../core/render-aware/interfaces';\r\nimport { createNoopStrategy } from './noop.strategy';\r\nimport { createNativeStrategy } from './native.strategy';\r\nimport { getLocalStrategies } from './local.strategy';\r\nimport { getGlobalStrategies } from './global.strategy';\r\n\r\nexport const DEFAULT_STRATEGY_NAME = 'local';\r\n\r\nexport function getStrategies<T>(\r\n  config: RenderStrategyFactoryConfig\r\n): { [strategy: string]: RenderStrategy<T> } {\r\n  return {\r\n    noop: createNoopStrategy<T>(),\r\n    native: createNativeStrategy<T>(config),\r\n    ...getGlobalStrategies(config),\r\n    ...getLocalStrategies(config)\r\n  };\r\n}\r\n\r\n/**\r\n * Strategies\r\n *\r\n * - VE/I - Options for ViewEngine / Ivy\r\n * - mFC - `cdRef.markForCheck`\r\n * - dC - `cdRef.detectChanges`\r\n * - ɵMD - `ɵmarkDirty`\r\n * - ɵDC - `ɵdetectChanges`\r\n * - LV  - `LView`\r\n * - C - `Component`\r\n *\r\n * | Name        | ZoneLess VE/I | Render Method VE/I  | Coalescing VE/I  |\r\n * |-------------| --------------| ------------------- | ---------------- |\r\n * | `noop`      | ❌/❌          | no rendering        | ❌               |\r\n * | `native`    | ❌/❌          | mFC / mFC           | ❌               |\r\n * | `global`    | ❌/✔ ️       | mFC  / ɵMD           | ❌               |\r\n * | `local`     | ✔/✔ ️        | dC / ɵDC            | ✔ ️ + C/ LV     |\r\n * | `ɵglobal`   | ❌/✔ ️       | mFC  / ɵMD          | ❌               |\r\n * | `ɵlocal`    | ✔/✔ ️       | dC / ɵDC             | ✔ ️ + C/ LV     |\r\n * | `ɵdetach`   | ❌/✔ ️       | mFC  / ɵMD          | ❌               |\r\n *\r\n */\r\n","import {\r\n  ChangeDetectorRef,\r\n  OnDestroy,\r\n  Pipe,\r\n  PipeTransform\r\n} from '@angular/core';\r\nimport {\r\n  NextObserver,\r\n  Observable,\r\n  ObservableInput,\r\n  Unsubscribable\r\n} from 'rxjs';\r\nimport { RenderAware, createRenderAware } from '../core';\r\nimport { getStrategies } from '../render-strategies';\r\nimport { DEFAULT_STRATEGY_NAME } from '../render-strategies/strategies/strategies-map';\r\n\r\n/**\r\n * @Pipe PushPipe\r\n *\r\n * @description\r\n *\r\n * The `push` pipe serves as a drop-in replacement for the `async` pipe.\r\n * It contains intelligent handling of change detection to enable us\r\n * running in zone-full as well as zone-less mode without any changes to the code.\r\n *\r\n * The current way of binding an observable to the view looks like that:\r\n *  ```html\r\n *  {{observable$ | async}}\r\n * <ng-container *ngIf=\"observable$ | async as o\">{{o}}</ng-container>\r\n * <component [value]=\"observable$ | async\"></component>\r\n * ```\r\n *\r\n * The problem is `async` pipe just marks the component and all its ancestors as dirty.\r\n * It needs zone.js microtask queue to exhaust until `ApplicationRef.tick` is called to render all dirty marked\r\n *     components.\r\n *\r\n * Heavy dynamic and interactive UIs suffer from zones change detection a lot and can\r\n * lean to bad performance or even unusable applications, but the `async` pipe does not work in zone-less mode.\r\n *\r\n * `push` pipe solves that problem.\r\n *\r\n * Included Features:\r\n *  - Take observables or promises, retrieve their values and render the value to the template\r\n *  - Handling null and undefined values in a clean unified/structured way\r\n *  - Triggers change-detection differently if `zone.js` is present or not (`detectChanges` or `markForCheck`)\r\n *  - Distinct same values in a row to increase performance\r\n *  - Coalescing of change detection calls to boost performance\r\n *\r\n * @usageNotes\r\n *\r\n * `push` pipe solves that problem. It can be used like shown here:\r\n * ```html\r\n * {{observable$ | push}}\r\n * <ng-container *ngIf=\"observable$ | push as o\">{{o}}</ng-container>\r\n * <component [value]=\"observable$ | push\"></component>\r\n * ```\r\n *\r\n * @publicApi\r\n */\r\n@Pipe({ name: 'push', pure: false })\r\nexport class PushPipe<S> implements PipeTransform, OnDestroy {\r\n  private renderedValue: S | null | undefined;\r\n\r\n  private readonly subscription: Unsubscribable;\r\n  private readonly RenderAware: RenderAware<S | null | undefined>;\r\n  private readonly resetObserver: NextObserver<void> = {\r\n    next: () => {\r\n      this.renderedValue = undefined;\r\n    }\r\n  };\r\n  private readonly updateObserver: NextObserver<S | null | undefined> = {\r\n    next: (value: S | null | undefined) => (this.renderedValue = value)\r\n  };\r\n\r\n  constructor(cdRef: ChangeDetectorRef) {\r\n    this.RenderAware = createRenderAware<S>({\r\n      strategies: getStrategies<S>({ cdRef }),\r\n      updateObserver: this.updateObserver,\r\n      resetObserver: this.resetObserver\r\n    });\r\n    this.subscription = this.RenderAware.subscribe();\r\n  }\r\n\r\n  transform<T>(\r\n    potentialObservable: null,\r\n    config?: string | Observable<string>\r\n  ): null;\r\n  transform<T>(\r\n    potentialObservable: undefined,\r\n    config?: string | Observable<string>\r\n  ): undefined;\r\n  transform<T>(\r\n    potentialObservable: ObservableInput<T>,\r\n    config?: string | Observable<string>\r\n  ): T;\r\n  transform<T>(\r\n    potentialObservable: ObservableInput<T> | null | undefined,\r\n    config: string | Observable<string> | undefined\r\n  ): T | null | undefined {\r\n    const strategy = config || DEFAULT_STRATEGY_NAME;\r\n    this.RenderAware.nextStrategy(strategy);\r\n    this.RenderAware.nextPotentialObservable(potentialObservable);\r\n    return this.renderedValue as any;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription.unsubscribe();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { PushPipe } from './push.pipe';\r\nconst DECLARATIONS = [PushPipe];\r\n@NgModule({\r\n  declarations: DECLARATIONS,\r\n  imports: [],\r\n  exports: DECLARATIONS\r\n})\r\nexport class PushModule {}\r\n","import {\r\n  ChangeDetectorRef,\r\n  Directive,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport {\r\n  NextObserver,\r\n  Observable,\r\n  ObservableInput,\r\n  Observer,\r\n  Unsubscribable\r\n} from 'rxjs';\r\nimport { createRenderAware, RenderAware } from '../core';\r\nimport {\r\n  DEFAULT_STRATEGY_NAME,\r\n  getStrategies\r\n} from '../render-strategies/strategies/strategies-map';\r\n\r\nexport interface LetViewContext<T> {\r\n  // to enable `let` syntax we have to use $implicit (var; let v = var)\r\n  $implicit?: T;\r\n  // to enable `as` syntax we have to assign the directives selector (var as v)\r\n  rxLet?: T;\r\n  // set context var complete to true (var$; let e = $error)\r\n  $error?: boolean;\r\n  // set context var complete to true (var$; let c = $complete)\r\n  $complete?: boolean;\r\n}\r\n\r\n/**\r\n * @Directive LetDirective\r\n *\r\n * @description\r\n *\r\n * The `*rxLet` directive serves a convenient way of binding observables to a view context (a dom element scope).\r\n * It also helps with several internal processing under the hood.\r\n *\r\n * The current way of binding an observable to the view looks like that:\r\n * ```html\r\n * <ng-container *ngIf=\"observableNumber$ as n\">\r\n * <app-number [number]=\"n\">\r\n * </app-number>\r\n * <app-number-special [number]=\"n\">\r\n * </app-number-special>\r\n * </ng-container>\r\n *  ```\r\n *\r\n *  The problem is `*ngIf` is also interfering with rendering and in case of a `0` the component would be hidden\r\n *\r\n * Included Features:\r\n * - binding is always present. (`*ngIf=\"truthy$\"`)\r\n * - it takes away the multiple usages of the `async` or `push` pipe\r\n * - a unified/structured way of handling null and undefined\r\n * - triggers change-detection differently if `zone.js` is present or not (`ChangeDetectorRef.detectChanges` or\r\n *   `ChangeDetectorRef.markForCheck`)\r\n * - triggers change-detection differently if ViewEngine or Ivy is present (`ChangeDetectorRef.detectChanges` or\r\n *   `ɵdetectChanges`)\r\n * - distinct same values in a row (distinctUntilChanged operator),\r\n *\r\n * @usageNotes\r\n *\r\n * The `*rxLet` directive take over several things and makes it more convenient and save to work with streams in the\r\n *   template\r\n * `<ng-container *rxLet=\"observableNumber$ as c\"></ng-container>`\r\n *\r\n * ```html\r\n * <ng-container *rxLet=\"observableNumber$ as n\">\r\n * <app-number [number]=\"n\">\r\n * </app-number>\r\n * </ng-container>\r\n *\r\n * <ng-container *rxLet=\"observableNumber$; let n\">\r\n * <app-number [number]=\"n\">\r\n * </app-number>\r\n * </ng-container>\r\n * ```\r\n *\r\n * In addition to that it provides us information from the whole observable context.\r\n * We can track the observables:\r\n * - next value\r\n * - error value\r\n * - complete base-state\r\n *\r\n * ```html\r\n * <ng-container *rxLet=\"observableNumber$; let n; let e = $error, let c = $complete\">\r\n * <app-number [number]=\"n\"  *ngIf=\"!e && !c\">\r\n * </app-number>\r\n * <ng-container *ngIf=\"e\">\r\n * There is an error: {{e}}\r\n * </ng-container>\r\n * <ng-container *ngIf=\"c\">\r\n * Observable completed: {{c}}\r\n * </ng-container>\r\n * </ng-container>\r\n * ```\r\n *\r\n * @publicApi\r\n */\r\n@Directive({ selector: '[rxLet]' })\r\nexport class LetDirective<U> implements OnInit, OnDestroy {\r\n  static ngTemplateGuard_rxLet: 'binding';\r\n\r\n  @Input()\r\n  set rxLet(potentialObservable: ObservableInput<U> | null | undefined) {\r\n    this.renderAware.nextPotentialObservable(potentialObservable);\r\n  }\r\n  @Input('rxLetStrategy')\r\n  set strategy(strategy: string | Observable<string> | undefined) {\r\n    this.renderAware.nextStrategy(strategy || DEFAULT_STRATEGY_NAME);\r\n  }\r\n\r\n  readonly strategies;\r\n  private embeddedView: any;\r\n  private readonly ViewContext: LetViewContext<U | undefined | null> = {\r\n    $implicit: undefined,\r\n    rxLet: undefined,\r\n    $error: false,\r\n    $complete: false\r\n  };\r\n\r\n  protected subscription: Unsubscribable;\r\n  readonly renderAware: RenderAware<U | null | undefined>;\r\n  private readonly resetObserver: NextObserver<void> = {\r\n    next: () => {\r\n      // if not initialized no need to set undefined\r\n      if (this.embeddedView) {\r\n        this.ViewContext.$implicit = undefined;\r\n        this.ViewContext.rxLet = undefined;\r\n        this.ViewContext.$error = false;\r\n        this.ViewContext.$complete = false;\r\n      }\r\n    }\r\n  };\r\n  private readonly updateObserver: Observer<U | null | undefined> = {\r\n    next: (value: U | null | undefined) => {\r\n      // to have initial rendering lazy\r\n      if (!this.embeddedView) {\r\n        this.createEmbeddedView();\r\n      }\r\n      this.ViewContext.$implicit = value;\r\n      this.ViewContext.rxLet = value;\r\n    },\r\n    error: (error: Error) => {\r\n      // to have initial rendering lazy\r\n      if (!this.embeddedView) {\r\n        this.createEmbeddedView();\r\n      }\r\n      this.ViewContext.$error = true;\r\n    },\r\n    complete: () => {\r\n      // to have initial rendering lazy\r\n      if (!this.embeddedView) {\r\n        this.createEmbeddedView();\r\n      }\r\n      this.ViewContext.$complete = true;\r\n    }\r\n  };\r\n\r\n  static ngTemplateContextGuard<U>(\r\n    dir: LetDirective<U>,\r\n    ctx: unknown | null | undefined\r\n  ): ctx is LetViewContext<U> {\r\n    return true;\r\n  }\r\n\r\n  constructor(\r\n    cdRef: ChangeDetectorRef,\r\n    private readonly templateRef: TemplateRef<LetViewContext<U>>,\r\n    private readonly viewContainerRef: ViewContainerRef\r\n  ) {\r\n    this.strategies = getStrategies<U>({ cdRef });\r\n\r\n    this.renderAware = createRenderAware<U>({\r\n      strategies: this.strategies,\r\n      resetObserver: this.resetObserver,\r\n      updateObserver: this.updateObserver\r\n    });\r\n    this.renderAware.nextStrategy(DEFAULT_STRATEGY_NAME);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.subscription = this.renderAware.subscribe();\r\n  }\r\n\r\n  createEmbeddedView() {\r\n    this.embeddedView = this.viewContainerRef.createEmbeddedView(\r\n      this.templateRef,\r\n      this.ViewContext\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.viewContainerRef.clear();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { LetDirective } from './let.directive';\r\n\r\nconst EXPORTED_DECLARATIONS = [LetDirective];\r\n\r\n@NgModule({\r\n  declarations: EXPORTED_DECLARATIONS,\r\n  exports: [EXPORTED_DECLARATIONS]\r\n})\r\nexport class LetModule {}\r\n","export const zonePatchedEvents = [\r\n  'scroll',\r\n  'mousedown',\r\n  'mouseenter',\r\n  'mouseleave',\r\n  'mousemove',\r\n  'mouseout',\r\n  'mouseover',\r\n  'mouseup',\r\n  'load',\r\n  'pointerup',\r\n  'change',\r\n  'blur',\r\n  'focus',\r\n  'click',\r\n  'contextmenu',\r\n  'drag',\r\n  'dragend',\r\n  'dragenter',\r\n  'dragleave',\r\n  'dragover',\r\n  'dragstart',\r\n  'drop',\r\n  'input'\r\n];\r\n","import {\r\n  AfterViewInit,\r\n  Directive,\r\n  ElementRef,\r\n  Input,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { BehaviorSubject, Subscription } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\nimport { zonePatchedEvents } from './unpatch-event-list';\r\nimport { unpatchEventListener } from '../../core/utils/make-zone-less';\r\n\r\n/**\r\n * @Directive UnpatchEventsDirective\r\n *\r\n * @description\r\n *\r\n * The `unpatch` directive helps in partially migrating to zone-less apps as well as getting rid\r\n * of unnecessary renderings through zones `addEventListener` patches.\r\n * It can be used on any element you apply event bindings.\r\n *\r\n * The current way of binding events to the DOM is to use output bindings:\r\n *  ```html\r\n * <button (click)=\"doStuff($event)\">click me</button>\r\n * ```\r\n *\r\n * The problem is that every event registered over `()` syntax, e.g. `(click)`\r\n * marks the component and all its ancestors as dirty and re-renders the whole component tree.\r\n * This is because zone.js patches the native browser API and whenever one of the patched APIs is used it re-renders.\r\n *\r\n * So even if your button is not related to a change that needs a re-render the app will re-render completely.\r\n * This leads to bad performance. This is especially helpful if you work with frequently fired events like 'mousemove'\r\n *\r\n * `unpatch` directive solves that problem.\r\n *\r\n * Included Features:\r\n *  - by default un-patch all registered listeners of the host it is applied on\r\n *  - un-patch only a specified set of registered event listeners\r\n *  - works zone independent (it directly checks the widow for patched APIs and un-patches them without the use of `runOutsideZone` which brings more performance)\r\n *  - Not interfering with any logic executed by the registered callback\r\n *\r\n * @usageNotes\r\n *\r\n * The `unpatch` directive can be used like shown here:\r\n * ```html\r\n * <button [unoatch] (click)=\"triggerSomeMethod($event)\">click me</button>\r\n * <button [unoatch]=\"['mousemove']\" (mousemove)=\"doStuff2($event)\" (click)=\"doStuff($event)\">click me</button>\r\n * ```\r\n *\r\n * @publicApi\r\n */\r\n// tslint:disable-next-line:directive-selector\r\n@Directive({ selector: '[unpatch]' })\r\nexport class UnpatchEventsDirective implements AfterViewInit, OnDestroy {\r\n  subscription = new Subscription();\r\n  events$ = new BehaviorSubject<string[]>(zonePatchedEvents);\r\n\r\n  @Input('unpatch')\r\n  set events(value: string[]) {\r\n    if (value && value.length > 0) {\r\n      this.events$.next(value);\r\n    } else {\r\n      this.events$.next(zonePatchedEvents);\r\n    }\r\n  }\r\n\r\n  reapplyEventListenersZoneUnPatched(events) {\r\n    events.forEach(ev => {\r\n      unpatchEventListener(this.el.nativeElement, ev);\r\n    });\r\n  }\r\n\r\n  constructor(private el: ElementRef) {}\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.subscription = this.events$\r\n      .pipe(\r\n        tap(eventList => this.reapplyEventListenersZoneUnPatched(eventList))\r\n      )\r\n      .subscribe();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { UnpatchEventsDirective } from './unpatch-events.directive';\r\n\r\nconst DECLARATIONS = [UnpatchEventsDirective];\r\n@NgModule({\r\n  declarations: DECLARATIONS,\r\n  exports: DECLARATIONS\r\n})\r\nexport class UnpatchEventsModule {}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { LetModule } from './let';\r\nimport { PushModule } from './push';\r\nimport { UnpatchEventsModule } from './unpatch/events';\r\n\r\n@NgModule({\r\n  exports: [LetModule, PushModule, UnpatchEventsModule]\r\n})\r\nexport class TemplateModule {}\r\n"],"names":["of","from","distinctUntilChanged","map","ReplaySubject","switchMap","filter","tap","withLatestFrom","catchError","EMPTY","Subscription","Observable","asyncScheduler","isObject","SchedulingPriority","animationFrameScheduler","asapScheduler","observeOn","markDirty","Pipe","NgModule","Directive","Input","BehaviorSubject","DECLARATIONS"],"mappings":";;;;;;IAAA;IACA;IACA;IACA;IACA;AACA;IACA;IACA;IACA;IACA;AACA;IACA;IACA;IACA;IACA;AACA;IACA,IAAI,aAAa,GAAG,SAAS,CAAC,EAAE,CAAC,EAAE;IACnC,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;IACzC,SAAS,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;IACpF,QAAQ,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACnF,IAAI,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC;AACF;IACO,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE;IAChC,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxB,IAAI,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;IAC3C,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IACzF,CAAC;AACD;IACO,IAAI,QAAQ,GAAG,WAAW;IACjC,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,QAAQ,CAAC,CAAC,EAAE;IACrD,QAAQ,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;IAC7D,YAAY,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAC7B,YAAY,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACzF,SAAS;IACT,QAAQ,OAAO,CAAC,CAAC;IACjB,MAAK;IACL,IAAI,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC3C,EAAC;AACD;IACO,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;IAC7B,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;IACf,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;IACvF,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACpB,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,OAAO,MAAM,CAAC,qBAAqB,KAAK,UAAU;IACvE,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;IAChF,YAAY,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1F,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClC,SAAS;IACT,IAAI,OAAO,CAAC,CAAC;IACb,CAAC;AACD;IACO,SAAS,UAAU,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IAC1D,IAAI,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IACjI,IAAI,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;IACnI,SAAS,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IACtJ,IAAI,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IAClE,CAAC;AACD;IACO,SAAS,OAAO,CAAC,UAAU,EAAE,SAAS,EAAE;IAC/C,IAAI,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;IACzE,CAAC;AACD;IACO,SAAS,UAAU,CAAC,WAAW,EAAE,aAAa,EAAE;IACvD,IAAI,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,OAAO,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;IACnI,CAAC;AACD;IACO,SAAS,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IAC7D,IAAI,SAAS,KAAK,CAAC,KAAK,EAAE,EAAE,OAAO,KAAK,YAAY,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;IAChH,IAAI,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;IAC/D,QAAQ,SAAS,SAAS,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;IACnG,QAAQ,SAAS,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;IACtG,QAAQ,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;IACtH,QAAQ,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;IAC9E,KAAK,CAAC,CAAC;IACP,CAAC;AACD;IACO,SAAS,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE;IAC3C,IAAI,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACrH,IAAI,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC7J,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IACtE,IAAI,SAAS,IAAI,CAAC,EAAE,EAAE;IACtB,QAAQ,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;IACtE,QAAQ,OAAO,CAAC,EAAE,IAAI;IACtB,YAAY,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IACzK,YAAY,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;IACpD,YAAY,QAAQ,EAAE,CAAC,CAAC,CAAC;IACzB,gBAAgB,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM;IAC9C,gBAAgB,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;IACxE,gBAAgB,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;IACjE,gBAAgB,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;IACjE,gBAAgB;IAChB,oBAAoB,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE;IAChI,oBAAoB,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;IAC1G,oBAAoB,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;IACzF,oBAAoB,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;IACvF,oBAAoB,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;IAC1C,oBAAoB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;IAC3C,aAAa;IACb,YAAY,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IACvC,SAAS,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;IAClE,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IACzF,KAAK;IACL,CAAC;AACD;IACO,SAAS,YAAY,CAAC,CAAC,EAAE,OAAO,EAAE;IACzC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACvE,CAAC;AACD;IACO,SAAS,QAAQ,CAAC,CAAC,EAAE;IAC5B,IAAI,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IAClF,IAAI,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC5B,IAAI,IAAI,CAAC,IAAI,OAAO,CAAC,CAAC,MAAM,KAAK,QAAQ,EAAE,OAAO;IAClD,QAAQ,IAAI,EAAE,YAAY;IAC1B,YAAY,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC;IAC/C,YAAY,OAAO,EAAE,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;IACpD,SAAS;IACT,KAAK,CAAC;IACN,IAAI,MAAM,IAAI,SAAS,CAAC,CAAC,GAAG,yBAAyB,GAAG,iCAAiC,CAAC,CAAC;IAC3F,CAAC;AACD;IACO,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;IAC7B,IAAI,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAC/D,IAAI,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IACrB,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;IACrC,IAAI,IAAI;IACR,QAAQ,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACnF,KAAK;IACL,IAAI,OAAO,KAAK,EAAE,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE;IAC3C,YAAY;IACZ,QAAQ,IAAI;IACZ,YAAY,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC7D,SAAS;IACT,gBAAgB,EAAE,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE;IACzC,KAAK;IACL,IAAI,OAAO,EAAE,CAAC;IACd,CAAC;AACD;IACO,SAAS,QAAQ,GAAG;IAC3B,IAAI,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE;IACtD,QAAQ,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7C,IAAI,OAAO,EAAE,CAAC;IACd,CAAC;AACD;IACO,SAAS,cAAc,GAAG;IACjC,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;IACxF,IAAI,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;IACpD,QAAQ,KAAK,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE;IACzE,YAAY,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACxB,IAAI,OAAO,CAAC,CAAC;IACb,CAAC,CAAC;AACF;IACO,SAAS,OAAO,CAAC,CAAC,EAAE;IAC3B,IAAI,OAAO,IAAI,YAAY,OAAO,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC;AACD;IACO,SAAS,gBAAgB,CAAC,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE;IACjE,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;IAC3F,IAAI,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;IAClE,IAAI,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;IAC1H,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;IAC9I,IAAI,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE;IACtF,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,YAAY,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;IAC5H,IAAI,SAAS,OAAO,CAAC,KAAK,EAAE,EAAE,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE;IACtD,IAAI,SAAS,MAAM,CAAC,KAAK,EAAE,EAAE,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,EAAE;IACtD,IAAI,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACtF,CAAC;AACD;IACO,SAAS,gBAAgB,CAAC,CAAC,EAAE;IACpC,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC;IACb,IAAI,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;IAChJ,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,KAAK,QAAQ,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;IACnJ,CAAC;AACD;IACO,SAAS,aAAa,CAAC,CAAC,EAAE;IACjC,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;IAC3F,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;IACvC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,OAAO,QAAQ,KAAK,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IACrN,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;IACpK,IAAI,SAAS,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE;IAChI,CAAC;AACD;IACO,SAAS,oBAAoB,CAAC,MAAM,EAAE,GAAG,EAAE;IAClD,IAAI,IAAI,MAAM,CAAC,cAAc,EAAE,EAAE,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE;IACnH,IAAI,OAAO,MAAM,CAAC;IAClB,CAAC,CAAC;AACF;IACO,SAAS,YAAY,CAAC,GAAG,EAAE;IAClC,IAAI,IAAI,GAAG,IAAI,GAAG,CAAC,UAAU,EAAE,OAAO,GAAG,CAAC;IAC1C,IAAI,IAAI,MAAM,GAAG,EAAE,CAAC;IACpB,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,KAAK,IAAI,CAAC,IAAI,GAAG,EAAE,IAAI,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IACnG,IAAI,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC;IACzB,IAAI,OAAO,MAAM,CAAC;IAClB,CAAC;AACD;IACO,SAAS,eAAe,CAAC,GAAG,EAAE;IACrC,IAAI,OAAO,CAAC,GAAG,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;IAC5D,CAAC;AACD;IACO,SAAS,sBAAsB,CAAC,QAAQ,EAAE,UAAU,EAAE;IAC7D,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;IACnC,QAAQ,MAAM,IAAI,SAAS,CAAC,gDAAgD,CAAC,CAAC;IAC9E,KAAK;IACL,IAAI,OAAO,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IACpC,CAAC;AACD;IACO,SAAS,sBAAsB,CAAC,QAAQ,EAAE,UAAU,EAAE,KAAK,EAAE;IACpE,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;IACnC,QAAQ,MAAM,IAAI,SAAS,CAAC,gDAAgD,CAAC,CAAC;IAC9E,KAAK;IACL,IAAI,UAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;IACpC,IAAI,OAAO,KAAK,CAAC;IACjB;;aClNgB,iBAAiB,CAC/B,CAAwC;;QAGxC,OAAO,CAAC,IAAI,IAAI,GAAGA,OAAE,CAAC,CAAC,CAAC,GAAGC,SAAI,CAAC,CAAC,CAAC,CAAC;IACrC;;aCHgB,cAAc,CAAI,UAAgC;QAChE,OAAO,UAAC,EAAsB;YAC5B,OAAO,EAAE,CAAC,IAAI,CACZC,8BAAoB,EAAE,EACtBC,aAAG,CACD,UAAC,QAAgB;gBACf,IAAM,CAAC,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC;gBAC/B,IAAI,CAAC,CAAC,CAAC,EAAE;oBACP,OAAO,CAAC,CAAC;iBACV;gBACD,MAAM,IAAI,KAAK,CAAC,cAAY,QAAQ,qBAAkB,CAAC,CAAC;aACzD,CACF,CACF,CAAC;SACH,CAAC;IACJ;;ICaA;;;;;;;;;aASgB,iBAAiB,CAAI,GAIpC;QACC,IAAM,aAAa,GAAG,IAAIC,kBAAa,CAA8B,CAAC,CAAC,CAAC;QACxE,IAAM,SAAS,GAAkC,aAAa,CAAC,IAAI,CACjEF,8BAAoB,EAAE,EACtBG,mBAAS,CAAC,UAAA,kBAAkB;YAC1B,OAAA,OAAO,kBAAkB,KAAK,QAAQ;kBAClCL,OAAE,CAAC,kBAAkB,CAAC;kBACtB,kBAAkB;SAAA,CACvB,EACD,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,CAC/B,CAAC;QAEF,IAAM,wBAAwB,GAAG,IAAII,kBAAa,CAAgB,CAAC,CAAC,CAAC;QACrE,IAAM,mBAAmB,GAAG,wBAAwB,CAAC,IAAI,CACvDF,8BAAoB,EAAE,CACvB,CAAC;QACF,IAAI,6BAA6B,GAAG,IAAI,CAAC;QAEzC,IAAM,gBAAgB,GAAG,mBAAmB,CAAC,IAAI;;QAE/CC,aAAG,CAAC,UAAA,WAAW;YACb,IAAI,WAAW,KAAK,IAAI,EAAE;gBACxB,OAAOH,OAAE,CAAC,IAAI,CAAC,CAAC;aACjB;YACD,IAAI,CAAC,6BAA6B,EAAE;gBAClC,GAAG,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;gBACzB,IAAI,WAAW,KAAK,SAAS,EAAE;oBAC7B,OAAOA,OAAE,CAAC,SAAS,CAAC,CAAC;iBACtB;aACF;YACD,6BAA6B,GAAG,KAAK,CAAC;YACtC,OAAO,WAAW,CAAC;SACpB,CAAC;;QAEFM,gBAAM,CAAC,UAAA,EAAE,IAAI,OAAA,EAAE,KAAK,SAAS,GAAA,CAAC,EAC9BD,mBAAS,CAAC,UAAA,EAAE,IAAI,OAAA,EAAE,CAAC,IAAI,CAACH,8BAAoB,EAAE,EAAEK,aAAG,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,GAAA,CAAC,EACzEC,wBAAc,CAAC,SAAS,CAAC,EACzBD,aAAG,CAAC,UAAC,EAAU;gBAAV,kBAAU,EAAT,SAAC,EAAE,aAAK;YAAM,OAAA,KAAK,CAAC,UAAU,EAAE;SAAA,CAAC,EACvCE,oBAAU,CAAC,UAAA,CAAC;YACV,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACjB,OAAOC,UAAK,CAAC;SACd,CAAC,CACH,CAAC;QAEF,OAAO;YACL,uBAAuB,EAAvB,UAAwB,KAAU;gBAChC,wBAAwB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACtC;YACD,YAAY,EAAZ,UAAa,UAAuC;gBAClD,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aAChC;YACD,eAAe,EAAE,SAAS;YAC1B,SAAS,EAAT;gBACE,OAAO,IAAIC,iBAAY,EAAE;qBACtB,GAAG,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;qBAC1B,GAAG,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,CAAC;aACtC;SACF,CAAC;IACJ;;ICvGA;;;;;;;;;;;;aAYgB,aAAa;QAC3B,QAAS,UAAkB,IAAK,IAAY,IAAK,MAAc,EAAS;IAC1E;;ICZA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;aA6BgB,uBAAuB,CACrC,WAAwB;QAGxB,IAAM,WAAW,GAAG,IAAI,OAAO,EAAQ,CAAC;QAExC,OAAO;YACL,QAAQ,EAAE,aAAa;YACvB,QAAQ,EAAE,aAAa;SACxB,CAAC;QAEF,SAAS,aAAa,CAAC,GAAM;YAC3B,IAAM,QAAQ,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC;YAClC,IAAM,iBAAiB,GAAkB,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAC9D,IAAI,UAAa,CAAC;YAElB,IAAI,iBAAiB,KAAK,SAAS,EAAE;gBACnC,UAAU,GAAG,iBAAiB,CAAC;aAChC;iBAAM;gBACL,UAAU,GAAG,EAAO,CAAC;gBAEpB,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAiB,CAAC,OAAO,CAC/C,UAAC,EAAa;wBAAb,kBAAa,EAAZ,YAAI,EAAE,aAAK;oBACX,UAAU,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;iBAC1D,CACF,CAAC;gBAEF,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;aAClC;YACD,OAAO,UAAU,CAAC;SACnB;QAED,SAAS,aAAa,CAAC,GAAM,EAAE,KAAiB;YAC9C,IAAM,UAAU,GAAM,aAAa,CAAC,GAAG,CAAC,CAAC;YACxC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAiB,CAAC,OAAO,CAAC,UAAC,EAAa;oBAAb,kBAAa,EAAZ,YAAI,EAAE,aAAK;gBAC1D,UAAU,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;aAC1B,CAAC,CAAC;YACH,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YACjC,OAAO,UAAU,CAAC;SACnB;QAED,SAAS,MAAM,CAAC,GAAM,EAAE,QAAW;YACjC,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;SAC9B;IACH;;ICzEA;;;;;;;;;;;;;aAagB,cAAc;QAC5B,OAAO,aAAa,EAAE,CAAC,IAAI,KAAK,SAAS,CAAC;IAC5C,CAAC;IAED;;;;;;;;;;;aAWgB,cAAc,CAAC,IAAY;;QAEzC,OAAO,aAAa,EAAE,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,SAAS,CAAC;IACjE,CAAC;IAED,IAAM,kBAAkB,GAAG,IAAI,OAAO,EAAgB,CAAC;IAEvD;;;;;;;;;;;;;;;;;;;aAmBgB,QAAQ,CAAC,QAAa;QACpC,IAAM,WAAW,GAAG,kBAAkB,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAErD,IAAI,WAAW,KAAK,SAAS,EAAE;YAC7B,OAAO,WAAW,CAAC;SACpB;QAED,IAAI,WAAW,GAAG,KAAK,CAAC;QAExB,SAAS,EAAE,MAAK;QAChB,EAAE,CAAC,KAAK,GAAG,cAAM,QAAC,WAAW,GAAG,IAAI,IAAC,CAAC;QAEtC,QAAQ,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;QAC/B,kBAAkB,CAAC,GAAG,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QAE9C,OAAO,WAAW,CAAC;IACrB,CAAC;IAED;;;;;;;;;;;;;;aAcgB,YAAY,CAAC,QAAa;QACxC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC7B;;IC1FA;IAIA,IAAI,eAAe,GAAyB,IAAI,CAAC;aAEjC,2BAA2B;QACzC,eAAe;YACb,eAAe;iBACd,cAAc,CAAC,SAAS,CAAC;sBACrB,aAAa,EAAE,CAAC,sBAAsB,CAAC,OAAO,EAAoB;sBACnE,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC;QACzB,OAAO,eAAe,CAAC;IACzB;;ICXA;;;;;;;;;;;;;;;;;;aAkBgB,eAAe;QAC7B,IAAM,EAAE,GAAQ,aAAa,EAAE,CAAC,EAAE,CAAC;;;;QAKnC,QACE,EAAE,KAAK,SAAS;;;YAGhB,EAAE,CAAC,KAAK,KAAK,SAAS,EACtB;IACJ;;IC7BA;;;;;;;;;;;;;aAagB,mBAAmB,CAAC,IAAY,EAAE,IAAU;QAC1D,IAAI,GAAG,IAAI,IAAI,aAAa,EAAE,CAAC;QAC/B,OAAO,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5E,CAAC;IAED;;;;;;;;;;;;aAYgB,oBAAoB,CAAC,IAAiB,EAAE,KAAa;QACnE,IAAM,cAAc,GAAI,IAAY,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;;QAE3D,IAAI,CAAC,cAAc,EAAE;YACnB,OAAO;SACR;QAED,IAAM,gBAAgB,GAAG,mBAAmB,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC,IAAI,CACzE,IAAI,CACL,CAAC;QACF,cAAc,CAAC,OAAO,CAAC,UAAA,QAAQ;;YAE7B,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;;YAE1C,gBAAgB,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;SACnC,CAAC,CAAC;IACL;;IC3CA,IAAM,8BAA8B,GAAG,uBAAuB,CAG5D,UAAA,GAAG,IAAI,QAAC;QACR,wBAAwB,EAAE,CAAC;KAC5B,IAAC,CAAC,CAAC;aAEY,qBAAqB,CACnC,KAAkB;QAAlB,sBAAA,EAAA,UAAkB;QAMlB,OAAO;YACL,MAAM,EAAE,gBAAgB;YACxB,GAAG,EAAE,eAAe;YACpB,YAAY,cAAA;SACb,CAAC;;QAGF,SAAS,gBAAgB;YACvB,IAAM,wBAAwB,GAC5B,8BAA8B,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,wBAAwB;gBACvE,CAAC,CAAC;YACJ,8BAA8B,CAAC,QAAQ,CAAC,KAAK,EAAE;gBAC7C,wBAAwB,0BAAA;aACzB,CAAC,CAAC;SACJ;;QAGD,SAAS,eAAe;YACtB,IAAM,wBAAwB,GAC5B,8BAA8B,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,wBAAwB;gBACvE,CAAC,CAAC;YACJ,8BAA8B,CAAC,QAAQ,CAAC,KAAK,EAAE;gBAC7C,wBAAwB,0BAAA;aACzB,CAAC,CAAC;SACJ;;QAGD,SAAS,YAAY;YACnB,QACE,8BAA8B,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,wBAAwB;gBACvE,CAAC,EACD;SACH;IACH;;ICzCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;aA+BgB,YAAY,CAC1B,gBAAmC,EACnC,KAAc;QAEd,IAAM,MAAM,GAAG,KAAK,IAAI,EAAE,CAAC;QAC3B,OAAO,UAAA,MAAM;YACX,IAAM,EAAE,GAAG,IAAIC,eAAU,CAAI,UAAA,QAAQ;gBACnC,IAAM,gBAAgB,GAAG,IAAID,iBAAY,EAAE,CAAC;gBAC5C,gBAAgB,CAAC,GAAG,CAClB,MAAM,CAAC,SAAS,CAAC,mBAAmB,CAAC,QAAQ,EAAE,gBAAgB,CAAC,CAAC,CAClE,CAAC;gBACF,OAAO,gBAAgB,CAAC;aACzB,CAAC,CAAC;YAEH,OAAO,EAAE,CAAC;YAEV,SAAS,mBAAmB,CAC1B,aAA4B,EAC5B,gBAA8B;gBAE9B,IAAI,kBAAkC,CAAC;gBACvC,IAAI,WAA0B,CAAC;gBAC/B,IAAM,GAAG,GAAG,qBAAqB,CAAC,MAAM,CAAC,CAAC;gBAC1C,IAAM,kBAAkB,GAAG;oBACzB,GAAG,CAAC,MAAM,EAAE,CAAC;oBACb,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,EAAE;wBACvB,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;qBACjC;iBACF,CAAC;gBACF,OAAO;oBACL,QAAQ,EAAE;wBACR,IAAI,kBAAkB,EAAE;4BACtB,kBAAkB,EAAE,CAAC;yBACtB;wBACD,aAAa,CAAC,QAAQ,EAAE,CAAC;qBAC1B;oBACD,KAAK,EAAE,UAAA,KAAK,IAAI,OAAA,aAAa,CAAC,KAAK,CAAC,KAAK,CAAC,GAAA;oBAC1C,IAAI,EAAE,UAAA,KAAK;wBACT,WAAW,GAAG,KAAK,CAAC;wBACpB,IAAI,CAAC,kBAAkB,EAAE;4BACvB,GAAG,CAAC,GAAG,EAAE,CAAC;4BACV,kBAAkB,GAAG,gBAAgB,CAAC,SAAS,CAAC;gCAC9C,IAAI,EAAE;oCACJ,kBAAkB,EAAE,CAAC;oCACrB,kBAAkB,GAAG,SAAS,CAAC;iCAChC;gCACD,QAAQ,EAAE;oCACR,IAAI,kBAAkB,EAAE;wCACtB,kBAAkB,EAAE,CAAC;wCACrB,kBAAkB,GAAG,SAAS,CAAC;qCAChC;iCACF;6BACF,CAAC,CAAC;4BACH,gBAAgB,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;yBAC1C;qBACF;iBACF,CAAC;aACH;SACF,CAAC;IACJ;;aClGgB,YAAY,CAC1B,QAA2B;QAE3B,OAAO,UAAC,CAAgB;YACtB,OAAO,CAAC,CAAC,IAAI,CACX,QAAQ,CAAC,QAAQ,EACjBJ,aAAG,CAAC,UAAA,CAAC,IAAI,OAAA,QAAQ,CAAC,YAAY,EAAE,GAAA,CAAC,CAClC,CAAC;SACH,CAAC;IACJ;;QCVa,sBAAsB,GAAkB;QACnD,GAAG;YACD,OAAO,CAAC,CAAC;SACV;QACD,QAAQ,EAAR,UACE,IAA8B,EAC9B,OAAgB,EAChB,KAAW;YAEX,OAAON,SAAI,CAAC,2BAA2B,EAAE,CAAC,CAAC,SAAS,CAAC,cAAM,OAAA,IAAI,CAAC,KAAK,CAAC,GAAA,CAAC,CAAC;SACzE;;;ICLH;;;;;IAMA,IAAY,yBAIX;IAJD,WAAY,yBAAyB;QACnC,sDAAyB,CAAA;QACzB,2DAA8B,CAAA;QAC9B,yDAA4B,CAAA;IAC9B,CAAC,EAJW,yBAAyB,KAAzB,yBAAyB,QAIpC;IAYM,IAAM,iBAAiB,GAC5B,OAAO,MAAM,KAAK,WAAW;UACxB,MAAc,CAAC,SAAS,IAAI;YAC3B,QAAQ,EAAR,UAAY,OAAiC;gBAC3C,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;gBACzB,OAAO,IAAI,OAAO,CAAC,UAAA,OAAO;oBACxB,UAAU,CAAC;wBACT,OAAO,CAAC,KAAK,CACX,sDAAsD,CACvD,CAAC;wBACF,OAAO,EAAE,CAAC;qBACX,EAAE,CAAC,CAAC,CAAC;iBACP,CAAC,CAAC;aACJ;SACF;UACD,eAAQ,CAAC;IAEf;QAAgC,kCAAY;QAE1C,wBAAoB,IAAmD;YAAvE,YACE,iBAAO,SACR;YAFmB,UAAI,GAAJ,IAAI,CAA+C;;SAEtE;QAED,iCAAQ,GAAR,UAAS,KAAS,EAAE,KAAc;YAChC,IAAI,IAAI,CAAC,MAAM,EAAE;gBACf,OAAO,IAAI,CAAC;aACb;YACD,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;SAC1D;QACH,qBAAC;IAAD,CAZA,CAAgCU,iBAAY,GAY3C;aAEe,oBAAoB,CAClC,QAAmC;QAEnC,OAAQ;YACN,GAAG;gBACD,OAAOE,mBAAc,CAAC,GAAG,EAAE,CAAC;aAC7B;YACD,QAAQ,EAAR,UACE,IAAmD,EACnD,OAAkE,EAClE,KAAS;gBADT,wBAAA,EAAA,UAAoC,EAA8B;gBAGlE,IAAIC,aAAQ,CAAC,OAAO,CAAC,IAAK,OAAoC,CAAC,KAAK,EAAE;oBACpE,OAAOD,mBAAc,CAAC,QAAQ,CAC5B,IAAI,EACH,OAAoC,CAAC,KAAK,EAC3C,KAAK,CACN,CAAC;iBACH;gBAED,OAAO,yBAAQ,OAAO,KAAE,QAAQ,UAAA,GAAE,CAAC;gBAEnC,IAAM,MAAM,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,CAAC;;gBAExC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;gBAEzB,IAAM,OAAO,GAAG,iBAAiB;qBAC9B,QAAQ,CAAC,eAAQ,EAAE,OAAO,CAAC;qBAC3B,IAAI,CAAC;oBACJ,IAAI;wBACF,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;qBAC1B;oBAAC,OAAO,KAAK,EAAE;wBACd,MAAM,CAAC,WAAW,EAAE,CAAC;wBACrB,MAAM,KAAK,CAAC;qBACb;iBACF,CAAC,CAAC;gBACL,MAAM,CAAC,GAAG,CAAC;oBACT,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;iBACpC,CAAC,CAAC;gBACH,OAAO,MAAM,CAAC;aACf;SAC2B,CAAC;IACjC;;ICvEO,IAAM,kBAAkB,GAC7B,OAAO,MAAM,KAAK,WAAW;UACxB,MAAc,CAAC,kBAAkB;YAClC,UAAS,MAAc;gBACrB,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;gBAC7C,YAAY,CAAC,MAAM,CAAC,CAAC;aACtB;UACD,eAAQ,CAAC;IAER,IAAM,mBAAmB,GAC9B,OAAO,MAAM,KAAK,WAAW;UACxB,MAAc,CAAC,mBAAmB;YACnC,UAAS,EAAY;gBACnB,OAAO,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC;gBAC9C,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;gBACzB,OAAO,UAAU,CAAC;oBAChB,EAAE,CAAC;wBACD,UAAU,EAAE,KAAK;wBACjB,aAAa,EAAE;4BACb,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,IAAI,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC;yBAC/C;qBACF,CAAC,CAAC;iBACJ,EAAE,CAAC,CAAC,CAAC;aACP;UACD,eAAQ,CAAC;IAEf;QAA4B,8BAAY;QACtC,oBAAoB,IAAmD;YAAvE,YACE,iBAAO,SACR;YAFmB,UAAI,GAAJ,IAAI,CAA+C;;SAEtE;QAED,6BAAQ,GAAR,UAAS,KAAS,EAAE,KAAc;YAChC,IAAI,IAAI,CAAC,MAAM,EAAE;gBACf,OAAO,IAAI,CAAC;aACb;YACD,OAAO,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;SACxD;QACH,iBAAC;IAAD,CAXA,CAA4BF,iBAAY,GAWvC;QAEY,aAAa,GAAkB;QAC1C,GAAG;YACD,OAAOE,mBAAc,CAAC,GAAG,EAAE,CAAC;SAC7B;QACD,QAAQ,EAAR,UACE,IAAmD,EACnD,KAAc,EACd,KAAS;YAET,IAAI,KAAK,EAAE;gBACT,OAAOA,mBAAc,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;aACpD;YAED,IAAM,MAAM,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;YACpC,IAAM,EAAE,GAAG,mBAAmB,CAAC;gBAC7B,IAAI;oBACF,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;iBAC1B;gBAAC,OAAO,KAAK,EAAE;oBACd,MAAM,CAAC,WAAW,EAAE,CAAC;oBACrB,MAAM,KAAK,CAAC;iBACb;aACF,CAAC,CAAC;YACH,MAAM,CAAC,GAAG,CAAC,cAAM,OAAA,kBAAkB,CAAC,EAAE,CAAC,GAAA,CAAC,CAAC;YACzC,OAAO,MAAM,CAAC;SACf;;;IC5FH,IAAM,kBAAkB,GAAG,IAAID,eAAU,CAAC,UAAA,UAAU;QAClD,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,IAAM,EAAE,GAAG,mBAAmB,CAAC,uBAAuB,CAAC,CAAC;YACtD,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;SACtB,CAAC,CAAC;QAEH,OAAO;YACL,mBAAmB,CAAC,sBAAsB,CAAC,CAAC,EAAE,CAAC,CAAC;SACjD,CAAC;IACJ,CAAC,CAAC,CAAC;QAEU,gCAAgC,GAAkB;QAC7D,GAAG;YACD,OAAO,CAAC,CAAC;SACV;QACD,QAAQ,EAAR,UACE,IAA8B,EAC9B,OAAgB,EAChB,KAAW;YAEX,OAAO,kBAAkB,CAAC,SAAS,CAAC,cAAM,OAAA,IAAI,CAAC,KAAK,CAAC,GAAA,CAAC,CAAC;SACxD;;;;ICxBH,WAAY,kBAAkB;QAC5B,uDAAiC,CAAA;QACjC,yCAAmB,CAAA;QACnB,mDAA6B,CAAA;QAC7B,mDAA6B,CAAA;QAC7B,iDAA2B,CAAA;QAC3B,+CAAyB,CAAA;QACzB,iDAA2B,CAAA;IAC7B,CAAC,EARWG,0BAAkB,KAAlBA,0BAAkB;;QCajB,oBAAoB,GAAsC;QACrE,cAAc,EAAEC,4BAAuB;QACvC,OAAO,EAAEC,kBAAa;QACtB,WAAW,EAAEJ,mBAAc;QAC3B,YAAY,EAAE,aAAa;QAC3B,YAAY,EAAE,oBAAoB,CAAC,yBAAyB,CAAC,YAAY,CAAC;QAC1E,WAAW,EAAE,oBAAoB,CAAC,yBAAyB,CAAC,WAAW,CAAC;QACxE,UAAU,EAAE,oBAAoB,CAAC,yBAAyB,CAAC,UAAU,CAAC;MACtE;aAEc,YAAY,CAAC,QAA4B;QACvD,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;YAClD,MAAM,IAAI,KAAK,CAAC,cAAY,QAAQ,qCAAkC,CAAC,CAAC;SACzE;QACD,OAAO,oBAAoB,CAAC,QAAQ,CAAC,CAAC;IACxC;;aCzBgB,cAAc,CAC5B,IAAa,EACb,gBAAmC,EACnC,KAAkB;QAAlB,sBAAA,EAAA,UAAkB;QAElB,IAAM,iBAAiB,GAAG,qBAAqB,CAAC,KAAK,CAAC,CAAC;QACvD,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,EAAE;YACrC,iBAAiB,CAAC,GAAG,EAAE,CAAC;YACxB,gBAAgB,CAAC,SAAS,CAAC;gBACzB,cAAc,EAAE,CAAC;aAClB,CAAC,CAAC;SACJ;;QAID,SAAS,cAAc;YACrB,iBAAiB,CAAC,MAAM,EAAE,CAAC;YAC3B,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,EAAE;gBACrC,OAAO,IAAI,EAAE,CAAC;aACf;SACF;IACH;;aCpBgB,QAAQ,CACtB,IAAgB,EAChB,QAA6B;QAE7B,OAAO,YAAY,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,cAAM,OAAA,IAAI,EAAE,GAAA,CAAC,CAAC;IACvD;;aCHgB,mBAAmB,CACjC,IAAgB,EAChB,QAA4B,EAC5B,KAAkB;QAAlB,sBAAA,EAAA,UAAkB;QAElB,IAAM,gBAAgB,GAAGZ,SAAI,CAAC,2BAA2B,EAAE,CAAC,CAAC;QAC7D,IAAM,aAAa,GAAG,cAAM,OAAA,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,GAAA,CAAC;QACrD,cAAc,CAAC,aAAa,EAAE,gBAAgB,EAAE,KAAK,CAAC,CAAC;IACzD;;ICTA;;;;;;;;;;;;;aAagB,kBAAkB;QAChC,OAAO;YACL,IAAI,EAAE,MAAM;YACZ,YAAY,EAAE,eAAQ;YACtB,QAAQ,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,GAAA;YAChB,UAAU,EAAE,eAAQ;SACrB,CAAC;IACJ;;ICvBA;;;;;;;;;;;;;;;aAegB,oBAAoB,CAClC,MAAmC;QAEnC,OAAO;YACL,IAAI,EAAE,QAAQ;YACd,YAAY,EAAE,MAAM,CAAC,KAAK,CAAC,YAAY;YACvC,QAAQ,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,GAAA;YAChB,UAAU,EAAE;gBACV,MAAM,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;aAC7B;SACF,CAAC;IACJ;;ICZA;;;;;;;;;;;;;;;;;;;aAoBgB,kBAAkB,CAChC,MAAmC;QAEnC,OAAO;YACL,KAAK,EAAE,mBAAmB,CAAI,MAAM,CAAC;YACrC,aAAa,EAAE,2BAA2B,CAAI,MAAM,CAAC;YACrD,wBAAwB,EAAE,sCAAsC,CAAI,MAAM,CAAC;YAC3E,WAAW,EAAE,yBAAyB,CAAI,MAAM,CAAC;YACjD,MAAM,EAAE,oBAAoB,CAAC,MAAM,CAAC;YACpC,WAAW,EAAE,yBAAyB,CAAC,MAAM,CAAC;YAC9C,YAAY,EAAE,0BAA0B,CAAC,MAAM,CAAC;YAChD,UAAU,EAAE,wBAAwB,CAAC,MAAM,CAAC;YAC5C,YAAY,EAAE,0BAA0B,CAAC,MAAM,CAAC;SACjD,CAAC;IACJ,CAAC;aAEe,yBAAyB,CACvC,MAAmC;QAEnC,IAAM,YAAY,GAAG;YACnB,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;SAC9B,CAAC;QACF,IAAM,QAAQ,GAAG,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,IAAI,EAAE,GAAA,CAAC;QAC/B,IAAM,UAAU,GAAG,cAAM,OAAA,YAAY,EAAE,GAAA,CAAC;QAExC,OAAO;YACL,IAAI,EAAE,aAAa;YACnB,YAAY,cAAA;YACZ,QAAQ,UAAA;YACR,UAAU,YAAA;SACX,CAAC;IACJ,CAAC;IAED;;;;;;;;;;;;;;;;;;;;;;;;;;;aA2BgB,mBAAmB,CACjC,MAAmC;QAEnC,IAAM,gBAAgB,GAAGA,SAAI,CAAC,2BAA2B,EAAE,CAAC,CAAC;QAC7D,IAAM,KAAK,GAAI,MAAM,CAAC,KAAa,CAAC,OAAO,CAAC;QAC5C,IAAM,QAAQ,GAAGc,0BAAkB,CAAC,cAAc,CAAC;QACnD,IAAM,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;QAEzC,IAAM,YAAY,GAAG;YACnB,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;SAC9B,CAAC;QACF,IAAM,QAAQ,GAAG,UAAA,CAAC;YAChB,OAAA,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC,EAAEG,mBAAS,CAAC,SAAS,CAAC,CAAC;SAAA,CAAC;QACtE,IAAM,UAAU,GAAG,cAAM,OAAA,mBAAmB,CAAC,YAAY,EAAE,QAAQ,EAAE,KAAK,CAAC,GAAA,CAAC;QAE5E,OAAO;YACL,IAAI,EAAE,OAAO;YACb,YAAY,cAAA;YACZ,QAAQ,UAAA;YACR,UAAU,YAAA;SACX,CAAC;IACJ,CAAC;aAEe,2BAA2B,CACzC,MAAmC;QAEnC,IAAM,gBAAgB,GAAGjB,SAAI,CAAC,2BAA2B,EAAE,CAAC,CAAC;QAC7D,IAAM,KAAK,GAAI,MAAM,CAAC,KAAa,CAAC,OAAO,CAAC;QAC5C,IAAM,QAAQ,GAAGc,0BAAkB,CAAC,cAAc,CAAC;QACnD,IAAM,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;QAEzC,IAAM,YAAY,GAAG;YACnB,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;SAC9B,CAAC;QACF,IAAM,QAAQ,GAAG,UAAA,CAAC;YAChB,OAAA,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC,EAAEG,mBAAS,CAAC,SAAS,CAAC,CAAC;SAAA,CAAC;QACtE,IAAM,UAAU,GAAG,cAAM,OAAA,mBAAmB,CAAC,YAAY,EAAE,QAAQ,EAAE,KAAK,CAAC,GAAA,CAAC;QAE5E,OAAO;YACL,IAAI,EAAE,eAAe;YACrB,YAAY,cAAA;YACZ,QAAQ,UAAA;YACR,UAAU,YAAA;SACX,CAAC;IACJ,CAAC;aAEe,sCAAsC,CACpD,MAAmC;QAEnC,IAAM,gBAAgB,GAAGjB,SAAI,CAAC,2BAA2B,EAAE,CAAC,CAAC;QAC7D,IAAM,KAAK,GAAI,MAAM,CAAC,KAAa,CAAC,OAAO,CAAC;QAC5C,IAAM,QAAQ,GAAGc,0BAAkB,CAAC,cAAc,CAAC;QACnD,IAAM,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;QAEzC,IAAM,YAAY,GAAG;YACnB,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;SAC9B,CAAC;QACF,IAAM,QAAQ,GAAG,UAAA,CAAC;YAChB,OAAA,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC,EAAEG,mBAAS,CAAC,SAAS,CAAC,CAAC;SAAA,CAAC;QACtE,IAAM,UAAU,GAAG,cAAM,OAAA,mBAAmB,CAAC,YAAY,EAAE,QAAQ,EAAE,KAAK,CAAC,GAAA,CAAC;QAE5E,OAAO;YACL,IAAI,EAAE,0BAA0B;YAChC,YAAY,cAAA;YACZ,QAAQ,UAAA;YACR,UAAU,YAAA;SACX,CAAC;IACJ,CAAC;IAED;;;;;;;;;;;;;;;;;;;;;;;;;;;aA2BgB,oBAAoB,CAClC,MAAmC;QAEnC,IAAM,gBAAgB,GAAGjB,SAAI,CAAC,2BAA2B,EAAE,CAAC,CAAC;QAC7D,IAAM,KAAK,GAAI,MAAM,CAAC,KAAa,CAAC,OAAO,CAAC;QAC5C,IAAM,QAAQ,GAAGc,0BAAkB,CAAC,cAAc,CAAC;QACnD,IAAM,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;QAEzC,IAAM,YAAY,GAAG;YACnB,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;YACxB,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;YAC7B,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACvB,CAAC;QACF,IAAM,QAAQ,GAAG,UAAA,CAAC;YAChB,OAAA,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC,EAAEG,mBAAS,CAAC,SAAS,CAAC,CAAC;SAAA,CAAC;QACtE,IAAM,UAAU,GAAG,cAAM,OAAA,mBAAmB,CAAC,YAAY,EAAE,QAAQ,EAAE,KAAK,CAAC,GAAA,CAAC;QAE5E,OAAO;YACL,IAAI,EAAE,QAAQ;YACd,YAAY,cAAA;YACZ,QAAQ,UAAA;YACR,UAAU,YAAA;SACX,CAAC;IACJ,CAAC;IAED;;;;aAIgB,yBAAyB,CACvC,MAAmC;QAEnC,IAAM,gBAAgB,GAAG,IAAIN,eAAU,CAAC,UAAA,UAAU;YAChDX,SAAI,CACF,iBAAiB,CAAC,QAAQ,CAAC,cAAM,OAAA,KAAK,CAAC,GAAA,EAAE;gBACvC,QAAQ,EAAE,yBAAyB,CAAC,WAAW;gBAC/C,KAAK,EAAE,CAAC;aACT,CAAC,CACH,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;SACzB,CAAC,CAAC;QACH,IAAM,KAAK,GAAI,MAAM,CAAC,KAAa,CAAC,OAAO,CAAC;QAC5C,IAAM,QAAQ,GAAGc,0BAAkB,CAAC,UAAU,CAAC;QAC/C,IAAM,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;QAEzC,IAAM,YAAY,GAAG;YACnB,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;SAC9B,CAAC;QACF,IAAM,QAAQ,GAAG,UAAA,CAAC;YAChB,OAAA,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC,EAAEG,mBAAS,CAAC,SAAS,CAAC,CAAC;SAAA,CAAC;QACtE,IAAM,UAAU,GAAG,cAAM,OAAA,mBAAmB,CAAC,YAAY,EAAE,QAAQ,EAAE,KAAK,CAAC,GAAA,CAAC;QAE5E,OAAO;YACL,IAAI,EAAE,aAAa;YACnB,YAAY,cAAA;YACZ,QAAQ,UAAA;YACR,UAAU,YAAA;SACX,CAAC;IACJ,CAAC;IAED;;;;aAIgB,0BAA0B,CACxC,MAAmC;QAEnC,IAAM,gBAAgB,GAAG,IAAIN,eAAU,CAAC,UAAA,UAAU;YAChDX,SAAI,CACF,iBAAiB,CAAC,QAAQ,CAAC,cAAM,OAAA,KAAK,CAAC,GAAA,EAAE;gBACvC,QAAQ,EAAE,yBAAyB,CAAC,WAAW;gBAC/C,KAAK,EAAE,CAAC;aACT,CAAC,CACH,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;SACzB,CAAC,CAAC;QACH,IAAM,KAAK,GAAI,MAAM,CAAC,KAAa,CAAC,OAAO,CAAC;QAC5C,IAAM,QAAQ,GAAGc,0BAAkB,CAAC,UAAU,CAAC;QAC/C,IAAM,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;QAEzC,IAAM,YAAY,GAAG;YACnB,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;SAC9B,CAAC;QACF,IAAM,QAAQ,GAAG,UAAA,CAAC;YAChB,OAAA,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC,EAAEG,mBAAS,CAAC,SAAS,CAAC,CAAC;SAAA,CAAC;QACtE,IAAM,UAAU,GAAG;YACjB,cAAc,CAAC,YAAY,EAAE,gBAAgB,EAAE,KAAK,CAAC,CAAC;;SAEvD,CAAC;QAEF,OAAO;YACL,IAAI,EAAE,cAAc;YACpB,YAAY,cAAA;YACZ,QAAQ,UAAA;YACR,UAAU,YAAA;SACX,CAAC;IACJ,CAAC;IAED;;;;aAIgB,wBAAwB,CACtC,MAAmC;QAEnC,IAAM,gBAAgB,GAAG,IAAIN,eAAU,CAAC,UAAA,UAAU;YAChDX,SAAI,CACF,iBAAiB,CAAC,QAAQ,CAAC,cAAM,OAAA,KAAK,CAAC,GAAA,EAAE;gBACvC,QAAQ,EAAE,yBAAyB,CAAC,WAAW;gBAC/C,KAAK,EAAE,CAAC;aACT,CAAC,CACH,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;SACzB,CAAC,CAAC;QACH,IAAM,KAAK,GAAI,MAAM,CAAC,KAAa,CAAC,OAAO,CAAC;QAC5C,IAAM,QAAQ,GAAGc,0BAAkB,CAAC,UAAU,CAAC;QAC/C,IAAM,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;QAEzC,IAAM,YAAY,GAAG;YACnB,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;SAC9B,CAAC;QACF,IAAM,QAAQ,GAAG,UAAA,CAAC;YAChB,OAAA,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC,EAAEG,mBAAS,CAAC,SAAS,CAAC,CAAC;SAAA,CAAC;QACtE,IAAM,UAAU,GAAG;YACjB,cAAc,CAAC,YAAY,EAAE,gBAAgB,EAAE,KAAK,CAAC,CAAC;;SAEvD,CAAC;QACF,OAAO;YACL,IAAI,EAAE,YAAY;YAClB,YAAY,cAAA;YACZ,QAAQ,UAAA;YACR,UAAU,YAAA;SACX,CAAC;IACJ,CAAC;IAED;;;;;;;;;;;;;;;;;;;;aAoBgB,0BAA0B,CACxC,MAAmC;QAEnC,IAAM,gBAAgB,GAAGjB,SAAI,CAAC,2BAA2B,EAAE,CAAC,CAAC;QAC7D,IAAM,KAAK,GAAI,MAAM,CAAC,KAAa,CAAC,OAAO,CAAC;QAC5C,IAAM,QAAQ,GAAGc,0BAAkB,CAAC,YAAY,CAAC;QACjD,IAAM,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;QACzC,IAAM,YAAY,GAAG;YACnB,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;SAC9B,CAAC;QACF,IAAM,QAAQ,GAAG,UAAA,CAAC;YAChB,OAAA,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC,EAAEG,mBAAS,CAAC,SAAS,CAAC,CAAC;SAAA,CAAC;QACtE,IAAM,UAAU,GAAG,cAAM,OAAA,mBAAmB,CAAC,YAAY,EAAE,QAAQ,EAAE,KAAK,CAAC,GAAA,CAAC;QAE5E,OAAO;YACL,IAAI,EAAE,cAAc;YACpB,YAAY,cAAA;YACZ,QAAQ,UAAA;YACR,UAAU,YAAA;SACX,CAAC;IACJ;;aCtWgB,mBAAmB,CACjC,MAAmC;QAEnC,OAAO;YACL,MAAM,EAAE,oBAAoB,CAAI,MAAM,CAAC;SACxC,CAAC;IACJ,CAAC;IAED;;;;;;;;;;;;;;;;IAiBA;;;;;;;;;;;;;;;;aAgBgB,oBAAoB,CAClC,MAAmC;QAEnC,IAAM,YAAY,GAAG,cAAM,OAAAC,eAAS,CAAE,MAAM,CAAC,KAAa,CAAC,OAAO,CAAC,GAAA,CAAC;QAEpE,OAAO;YACL,IAAI,EAAE,QAAQ;YACd,YAAY,cAAA;YACZ,QAAQ,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,GAAA;YAChB,UAAU,EAAE,cAAM,OAAA,YAAY,EAAE,GAAA;SACjC,CAAC;IACJ;;ICjDO,IAAM,qBAAqB,GAAG,OAAO,CAAC;aAE7B,aAAa,CAC3B,MAAmC;QAEnC,2BACE,IAAI,EAAE,kBAAkB,EAAK,EAC7B,MAAM,EAAE,oBAAoB,CAAI,MAAM,CAAC,IACpC,mBAAmB,CAAC,MAAM,CAAC,GAC3B,kBAAkB,CAAC,MAAM,CAAC,EAC7B;IACJ,CAAC;IAED;;;;;;;;;;;;;;;;;;;;;;;ICNA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QA0DE,kBAAY,KAAwB;YAApC,iBAOC;YAhBgB,kBAAa,GAAuB;gBACnD,IAAI,EAAE;oBACJ,KAAI,CAAC,aAAa,GAAG,SAAS,CAAC;iBAChC;aACF,CAAC;YACe,mBAAc,GAAuC;gBACpE,IAAI,EAAE,UAAC,KAA2B,IAAK,QAAC,KAAI,CAAC,aAAa,GAAG,KAAK,IAAC;aACpE,CAAC;YAGA,IAAI,CAAC,WAAW,GAAG,iBAAiB,CAAI;gBACtC,UAAU,EAAE,aAAa,CAAI,EAAE,KAAK,OAAA,EAAE,CAAC;gBACvC,cAAc,EAAE,IAAI,CAAC,cAAc;gBACnC,aAAa,EAAE,IAAI,CAAC,aAAa;aAClC,CAAC,CAAC;YACH,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;SAClD;QAcD,4BAAS,GAAT,UACE,mBAA0D,EAC1D,MAA+C;YAE/C,IAAM,QAAQ,GAAG,MAAM,IAAI,qBAAqB,CAAC;YACjD,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YACxC,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,mBAAmB,CAAC,CAAC;YAC9D,OAAO,IAAI,CAAC,aAAoB,CAAC;SAClC;QAED,8BAAW,GAAX;YACE,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;SACjC;wEA/CU,QAAQ;iEAAR,QAAQ;uBA5DrB;KA2DA,IAiDC;wDAhDY,QAAQ;kBADpBC,SAAI;mBAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE;;;ICzDnC,IAAM,YAAY,GAAG,CAAC,QAAQ,CAAC,CAAC;;QAChC;SAK0B;wDAAb,UAAU;6GAAV,UAAU,kBAHZ,EAAE;yBALb;KAGA,IAK0B;8FAAb,UAAU,mBAND,QAAQ,aAAR,QAAQ;wDAMjB,UAAU;kBALtBC,aAAQ;mBAAC;oBACR,YAAY,EAAE,YAAY;oBAC1B,OAAO,EAAE,EAAE;oBACX,OAAO,EAAE,YAAY;iBACtB;;;IC6BD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAwIE,sBACE,KAAwB,EACP,WAA2C,EAC3C,gBAAkC;YAHrD,iBAaC;YAXkB,gBAAW,GAAX,WAAW,CAAgC;YAC3C,qBAAgB,GAAhB,gBAAgB,CAAkB;YAvDpC,gBAAW,GAAyC;gBACnE,SAAS,EAAE,SAAS;gBACpB,KAAK,EAAE,SAAS;gBAChB,MAAM,EAAE,KAAK;gBACb,SAAS,EAAE,KAAK;aACjB,CAAC;YAIe,kBAAa,GAAuB;gBACnD,IAAI,EAAE;;oBAEJ,IAAI,KAAI,CAAC,YAAY,EAAE;wBACrB,KAAI,CAAC,WAAW,CAAC,SAAS,GAAG,SAAS,CAAC;wBACvC,KAAI,CAAC,WAAW,CAAC,KAAK,GAAG,SAAS,CAAC;wBACnC,KAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;wBAChC,KAAI,CAAC,WAAW,CAAC,SAAS,GAAG,KAAK,CAAC;qBACpC;iBACF;aACF,CAAC;YACe,mBAAc,GAAmC;gBAChE,IAAI,EAAE,UAAC,KAA2B;;oBAEhC,IAAI,CAAC,KAAI,CAAC,YAAY,EAAE;wBACtB,KAAI,CAAC,kBAAkB,EAAE,CAAC;qBAC3B;oBACD,KAAI,CAAC,WAAW,CAAC,SAAS,GAAG,KAAK,CAAC;oBACnC,KAAI,CAAC,WAAW,CAAC,KAAK,GAAG,KAAK,CAAC;iBAChC;gBACD,KAAK,EAAE,UAAC,KAAY;;oBAElB,IAAI,CAAC,KAAI,CAAC,YAAY,EAAE;wBACtB,KAAI,CAAC,kBAAkB,EAAE,CAAC;qBAC3B;oBACD,KAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;iBAChC;gBACD,QAAQ,EAAE;;oBAER,IAAI,CAAC,KAAI,CAAC,YAAY,EAAE;wBACtB,KAAI,CAAC,kBAAkB,EAAE,CAAC;qBAC3B;oBACD,KAAI,CAAC,WAAW,CAAC,SAAS,GAAG,IAAI,CAAC;iBACnC;aACF,CAAC;YAcA,IAAI,CAAC,UAAU,GAAG,aAAa,CAAI,EAAE,KAAK,OAAA,EAAE,CAAC,CAAC;YAE9C,IAAI,CAAC,WAAW,GAAG,iBAAiB,CAAI;gBACtC,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,aAAa,EAAE,IAAI,CAAC,aAAa;gBACjC,cAAc,EAAE,IAAI,CAAC,cAAc;aACpC,CAAC,CAAC;YACH,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC;SACtD;QA5ED,sBACI,+BAAK;iBADT,UACU,mBAA0D;gBAClE,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,mBAAmB,CAAC,CAAC;aAC/D;;;WAAA;QACD,sBACI,kCAAQ;iBADZ,UACa,QAAiD;gBAC5D,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,IAAI,qBAAqB,CAAC,CAAC;aAClE;;;WAAA;QAiDM,mCAAsB,GAA7B,UACE,GAAoB,EACpB,GAA+B;YAE/B,OAAO,IAAI,CAAC;SACb;QAiBD,+BAAQ,GAAR;YACE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;SAClD;QAED,yCAAkB,GAAlB;YACE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAC1D,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,WAAW,CACjB,CAAC;SACH;QAED,kCAAW,GAAX;YACE,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;YAChC,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;SAC/B;gFA/FU,YAAY;2DAAZ,YAAY;2BA1GzB;KAyGA,IAiGC;wDAhGY,YAAY;kBADxBC,cAAS;mBAAC,EAAE,QAAQ,EAAE,SAAS,EAAE;;sBAI/BC,UAAK;;sBAILA,UAAK;uBAAC,eAAe;;;IC9GxB,IAAM,qBAAqB,GAAG,CAAC,YAAY,CAAC,CAAC;;QAE7C;SAIyB;uDAAZ,SAAS;2GAAT,SAAS;wBATtB;KAKA,IAIyB;8FAAZ,SAAS,mBANS,YAAY,aAAZ,YAAY;wDAM9B,SAAS;kBAJrBF,aAAQ;mBAAC;oBACR,YAAY,EAAE,qBAAqB;oBACnC,OAAO,EAAE,CAAC,qBAAqB,CAAC;iBACjC;;;ICRM,IAAM,iBAAiB,GAAG;QAC/B,QAAQ;QACR,WAAW;QACX,YAAY;QACZ,YAAY;QACZ,WAAW;QACX,UAAU;QACV,WAAW;QACX,SAAS;QACT,MAAM;QACN,WAAW;QACX,QAAQ;QACR,MAAM;QACN,OAAO;QACP,OAAO;QACP,aAAa;QACb,MAAM;QACN,SAAS;QACT,WAAW;QACX,WAAW;QACX,UAAU;QACV,WAAW;QACX,MAAM;QACN,OAAO;KACR;;ICZD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAuCA;;QAqBE,gCAAoB,EAAc;YAAd,OAAE,GAAF,EAAE,CAAY;YAlBlC,iBAAY,GAAG,IAAIV,iBAAY,EAAE,CAAC;YAClC,YAAO,GAAG,IAAIa,oBAAe,CAAW,iBAAiB,CAAC,CAAC;SAiBrB;QAftC,sBACI,0CAAM;iBADV,UACW,KAAe;gBACxB,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC1B;qBAAM;oBACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;iBACtC;aACF;;;WAAA;QAED,mEAAkC,GAAlC,UAAmC,MAAM;YAAzC,iBAIC;YAHC,MAAM,CAAC,OAAO,CAAC,UAAA,EAAE;gBACf,oBAAoB,CAAC,KAAI,CAAC,EAAE,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;aACjD,CAAC,CAAC;SACJ;QAID,4CAAW,GAAX;YACE,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;SACjC;QAED,gDAAe,GAAf;YAAA,iBAMC;YALC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO;iBAC7B,IAAI,CACHjB,aAAG,CAAC,UAAA,SAAS,IAAI,OAAA,KAAI,CAAC,kCAAkC,CAAC,SAAS,CAAC,GAAA,CAAC,CACrE;iBACA,SAAS,EAAE,CAAC;SAChB;oGA/BU,sBAAsB;qEAAtB,sBAAsB;qCArDnC;KAoDA,IAiCC;wDAhCY,sBAAsB;kBADlCe,cAAS;mBAAC,EAAE,QAAQ,EAAE,WAAW,EAAE;;sBAKjCC,UAAK;uBAAC,SAAS;;;ICtDlB,IAAME,cAAY,GAAG,CAAC,sBAAsB,CAAC,CAAC;;QAC9C;SAImC;iEAAtB,mBAAmB;+HAAnB,mBAAmB;kCARhC;KAIA,IAImC;8FAAtB,mBAAmB,mBALV,sBAAsB,aAAtB,sBAAsB;wDAK/B,mBAAmB;kBAJ/BJ,aAAQ;mBAAC;oBACR,YAAY,EAAEI,cAAY;oBAC1B,OAAO,EAAEA,cAAY;iBACtB;;;;QCDD;SAG8B;4DAAjB,cAAc;qHAAd,cAAc,kBAFf,SAAS,EAAE,UAAU,EAAE,mBAAmB;6BAPtD;KAMA,IAG8B;8FAAjB,cAAc,cAFf,SAAS,EAAE,UAAU,EAAE,mBAAmB;wDAEzC,cAAc;kBAH1BJ,aAAQ;mBAAC;oBACR,OAAO,EAAE,CAAC,SAAS,EAAE,UAAU,EAAE,mBAAmB,CAAC;iBACtD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}