{"version":3,"file":"static-coalesce.js","sourceRoot":"ng://@rx-angular/template/","sources":["lib/render-strategies/static/static-coalesce.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,qBAAqB,EAAE,MAAM,4CAA4C,CAAC;AAEnF,MAAM,UAAU,cAAc,CAC5B,IAAa,EACb,gBAAmC,EACnC,QAAgB,EAAE;IAElB,MAAM,iBAAiB,GAAG,qBAAqB,CAAC,KAAK,CAAC,CAAC;IACvD,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,EAAE;QACrC,iBAAiB,CAAC,GAAG,EAAE,CAAC;QACxB,gBAAgB,CAAC,SAAS,CAAC,GAAG,EAAE;YAC9B,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,CAAC;KACJ;IAED,QAAQ;IAER,SAAS,cAAc;QACrB,iBAAiB,CAAC,MAAM,EAAE,CAAC;QAC3B,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,EAAE;YACrC,OAAO,IAAI,EAAE,CAAC;SACf;IACH,CAAC;AACH,CAAC","sourcesContent":["import { Subscribable } from 'rxjs';\r\nimport { createCoalesceManager } from '../../core/render-aware/coalescing-manager';\r\n\r\nexport function staticCoalesce<T>(\r\n  work: () => T,\r\n  durationSelector: Subscribable<any>,\r\n  scope: object = {}\r\n): void {\r\n  const coalescingManager = createCoalesceManager(scope);\r\n  if (!coalescingManager.isCoalescing()) {\r\n    coalescingManager.add();\r\n    durationSelector.subscribe(() => {\r\n      tryExecuteWork();\r\n    });\r\n  }\r\n\r\n  // =====\r\n\r\n  function tryExecuteWork() {\r\n    coalescingManager.remove();\r\n    if (!coalescingManager.isCoalescing()) {\r\n      return work();\r\n    }\r\n  }\r\n}\r\n"]}